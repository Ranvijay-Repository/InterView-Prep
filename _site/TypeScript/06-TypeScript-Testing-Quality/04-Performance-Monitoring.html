<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>📊 Performance Monitoring - Interview Prep Documentation</title>
    <meta name="description" content="Comprehensive guides for JavaScript, TypeScript, and React Native interview preparation">
    
    <!-- GitHub Pages compatible styling -->
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
        }
        
        .container {
            max-width: 100%;
        }
        
        h1, h2, h3, h4, h5, h6 {
            color: #2c3e50;
            margin-top: 2em;
            margin-bottom: 1em;
        }
        
        h1 {
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        
        h2 {
            border-bottom: 1px solid #ecf0f1;
            padding-bottom: 5px;
        }
        
        code {
            background-color: #f8f9fa;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9em;
        }
        
        pre {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            border-left: 4px solid #3498db;
        }
        
        pre code {
            background-color: transparent;
            padding: 0;
        }
        
        blockquote {
            border-left: 4px solid #3498db;
            margin: 0;
            padding-left: 20px;
            color: #666;
            font-style: italic;
        }
        
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 1em 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 8px 12px;
            text-align: left;
        }
        
        th {
            background-color: #f8f9fa;
            font-weight: bold;
        }
        
        tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        
        .navigation {
            background-color: #2c3e50;
            color: white;
            padding: 10px 0;
            margin-bottom: 20px;
        }
        
        .navigation a {
            color: white;
            text-decoration: none;
            margin-right: 20px;
        }
        
        .navigation a:hover {
            text-decoration: underline;
        }
        
        .breadcrumb {
            margin-bottom: 20px;
            color: #666;
        }
        
        .breadcrumb a {
            color: #3498db;
            text-decoration: none;
        }
        
        .breadcrumb a:hover {
            text-decoration: underline;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            h2 {
                font-size: 1.4em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <nav class="navigation">
            <a href="/">Home</a>
            <a href="/Javascript/">JavaScript</a>
            <a href="/TypeScript/">TypeScript</a>
            <a href="/React-Native/">React Native</a>
        </nav>
        
        
        
        <main>
            <h1 id="-performance-monitoring">📊 <strong>Performance Monitoring</strong></h1>

<blockquote>
  <p><strong>Complete guide to monitoring and optimizing TypeScript application performance, including profiling, metrics, and best practices</strong></p>
</blockquote>

<link rel="stylesheet" href="../../common-styles.css" />

<hr />

<h2 id="-table-of-contents">📚 <strong>Table of Contents</strong></h2>

<ul>
  <li><a href="#performance-monitoring-overview">Performance Monitoring Overview</a></li>
  <li><a href="#performance-metrics">Performance Metrics</a></li>
  <li><a href="#profiling-tools">Profiling Tools</a></li>
  <li><a href="#runtime-performance">Runtime Performance</a></li>
  <li><a href="#bundle-analysis">Bundle Analysis</a></li>
  <li><a href="#performance-testing">Performance Testing</a></li>
  <li><a href="#best-practices">Best Practices</a></li>
  <li><a href="#common-interview-questions">Common Interview Questions</a></li>
</ul>

<hr />

<h2 id="-performance-monitoring-overview">🎯 <strong>Performance Monitoring Overview</strong></h2>

<p>Performance monitoring helps identify bottlenecks, optimize code, and ensure applications meet performance requirements.</p>

<h3 id="performance-monitoring-areas"><strong>Performance Monitoring Areas</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Performance monitoring areas</span>
<span class="kd">const</span> <span class="nx">performanceAreas</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">runtime</span><span class="p">:</span> <span class="dl">"</span><span class="s2">JavaScript execution performance</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">bundle</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Bundle size and loading performance</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">memory</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Memory usage and garbage collection</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">network</span><span class="p">:</span> <span class="dl">"</span><span class="s2">API calls and data transfer</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">rendering</span><span class="p">:</span> <span class="dl">"</span><span class="s2">UI rendering performance</span><span class="dl">"</span>
<span class="p">};</span>

<span class="c1">// Performance monitoring tools</span>
<span class="kd">const</span> <span class="nx">monitoringTools</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">profiling</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Chrome DevTools, Node.js profiler</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">metrics</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Performance API, custom metrics</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">testing</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Load testing, stress testing</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">analysis</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Bundle analyzers, performance budgets</span><span class="dl">"</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="performance-metrics"><strong>Performance Metrics</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Key performance metrics</span>
<span class="kd">const</span> <span class="nx">performanceMetrics</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">loadTime</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Time to load and render page</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">firstContentfulPaint</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Time to first contentful paint</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">largestContentfulPaint</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Time to largest contentful paint</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">firstInputDelay</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Time to first input response</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">cumulativeLayoutShift</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Visual stability metric</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">timeToInteractive</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Time until page is interactive</span><span class="dl">"</span>
<span class="p">};</span>
</code></pre></div></div>

<hr />

<h2 id="-performance-metrics">📈 <strong>Performance Metrics</strong></h2>

<h3 id="web-performance-api"><strong>Web Performance API</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Performance monitoring with Web Performance API</span>
<span class="kd">class</span> <span class="nx">PerformanceMonitor</span> <span class="p">{</span>
  <span class="k">private</span> <span class="nx">metrics</span><span class="p">:</span> <span class="nb">Map</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="kr">number</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Map</span><span class="p">();</span>

  <span class="c1">// Measure function execution time</span>
  <span class="nx">measureFunction</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">fn</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">T</span><span class="p">):</span> <span class="nx">T</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">start</span> <span class="o">=</span> <span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
    <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">();</span>
    <span class="kd">const</span> <span class="nx">end</span> <span class="o">=</span> <span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">metrics</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">end</span> <span class="o">-</span> <span class="nx">start</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">name</span><span class="p">}</span><span class="s2"> took </span><span class="p">${</span><span class="nx">end</span> <span class="o">-</span> <span class="nx">start</span><span class="p">}</span><span class="s2"> milliseconds`</span><span class="p">);</span>
    
    <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// Measure async function execution time</span>
  <span class="k">async</span> <span class="nx">measureAsyncFunction</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">fn</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">start</span> <span class="o">=</span> <span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
    <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fn</span><span class="p">();</span>
    <span class="kd">const</span> <span class="nx">end</span> <span class="o">=</span> <span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">metrics</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">end</span> <span class="o">-</span> <span class="nx">start</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">name</span><span class="p">}</span><span class="s2"> took </span><span class="p">${</span><span class="nx">end</span> <span class="o">-</span> <span class="nx">start</span><span class="p">}</span><span class="s2"> milliseconds`</span><span class="p">);</span>
    
    <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// Get performance metrics</span>
  <span class="nx">getMetrics</span><span class="p">():</span> <span class="nb">Map</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="kr">number</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nb">Map</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">metrics</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">// Get Web Vitals</span>
  <span class="nx">getWebVitals</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="p">{</span>
    <span class="na">fcp</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">lcp</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">fid</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">cls</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="p">}</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">vitals</span> <span class="o">=</span> <span class="p">{</span>
        <span class="na">fcp</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="na">lcp</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="na">fid</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="na">cls</span><span class="p">:</span> <span class="mi">0</span>
      <span class="p">};</span>

      <span class="c1">// First Contentful Paint</span>
      <span class="kd">const</span> <span class="nx">fcpObserver</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PerformanceObserver</span><span class="p">((</span><span class="nx">list</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">entry</span> <span class="k">of</span> <span class="nx">list</span><span class="p">.</span><span class="nx">getEntries</span><span class="p">())</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">name</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">first-contentful-paint</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">vitals</span><span class="p">.</span><span class="nx">fcp</span> <span class="o">=</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">startTime</span><span class="p">;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">});</span>
      <span class="nx">fcpObserver</span><span class="p">.</span><span class="nx">observe</span><span class="p">({</span> <span class="na">entryTypes</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">paint</span><span class="dl">'</span><span class="p">]</span> <span class="p">});</span>

      <span class="c1">// Largest Contentful Paint</span>
      <span class="kd">const</span> <span class="nx">lcpObserver</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PerformanceObserver</span><span class="p">((</span><span class="nx">list</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">entries</span> <span class="o">=</span> <span class="nx">list</span><span class="p">.</span><span class="nx">getEntries</span><span class="p">();</span>
        <span class="kd">const</span> <span class="nx">lastEntry</span> <span class="o">=</span> <span class="nx">entries</span><span class="p">[</span><span class="nx">entries</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
        <span class="nx">vitals</span><span class="p">.</span><span class="nx">lcp</span> <span class="o">=</span> <span class="nx">lastEntry</span><span class="p">.</span><span class="nx">startTime</span><span class="p">;</span>
      <span class="p">});</span>
      <span class="nx">lcpObserver</span><span class="p">.</span><span class="nx">observe</span><span class="p">({</span> <span class="na">entryTypes</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">largest-contentful-paint</span><span class="dl">'</span><span class="p">]</span> <span class="p">});</span>

      <span class="c1">// First Input Delay</span>
      <span class="kd">const</span> <span class="nx">fidObserver</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PerformanceObserver</span><span class="p">((</span><span class="nx">list</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">entry</span> <span class="k">of</span> <span class="nx">list</span><span class="p">.</span><span class="nx">getEntries</span><span class="p">())</span> <span class="p">{</span>
          <span class="nx">vitals</span><span class="p">.</span><span class="nx">fid</span> <span class="o">=</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">processingStart</span> <span class="o">-</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">startTime</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">});</span>
      <span class="nx">fidObserver</span><span class="p">.</span><span class="nx">observe</span><span class="p">({</span> <span class="na">entryTypes</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">first-input</span><span class="dl">'</span><span class="p">]</span> <span class="p">});</span>

      <span class="c1">// Cumulative Layout Shift</span>
      <span class="kd">const</span> <span class="nx">clsObserver</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PerformanceObserver</span><span class="p">((</span><span class="nx">list</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">entry</span> <span class="k">of</span> <span class="nx">list</span><span class="p">.</span><span class="nx">getEntries</span><span class="p">())</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">entry</span><span class="p">.</span><span class="nx">hadRecentInput</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">vitals</span><span class="p">.</span><span class="nx">cls</span> <span class="o">+=</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">});</span>
      <span class="nx">clsObserver</span><span class="p">.</span><span class="nx">observe</span><span class="p">({</span> <span class="na">entryTypes</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">layout-shift</span><span class="dl">'</span><span class="p">]</span> <span class="p">});</span>

      <span class="c1">// Resolve after a delay to collect metrics</span>
      <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">resolve</span><span class="p">(</span><span class="nx">vitals</span><span class="p">),</span> <span class="mi">5000</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Usage</span>
<span class="kd">const</span> <span class="nx">monitor</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PerformanceMonitor</span><span class="p">();</span>

<span class="c1">// Measure function performance</span>
<span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">monitor</span><span class="p">.</span><span class="nx">measureFunction</span><span class="p">(</span><span class="dl">'</span><span class="s1">expensiveCalculation</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Expensive calculation</span>
  <span class="k">return</span> <span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">({</span> <span class="na">length</span><span class="p">:</span> <span class="mi">1000000</span> <span class="p">},</span> <span class="p">(</span><span class="nx">_</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="nx">i</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// Measure async function performance</span>
<span class="kd">const</span> <span class="nx">asyncResult</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">monitor</span><span class="p">.</span><span class="nx">measureAsyncFunction</span><span class="p">(</span><span class="dl">'</span><span class="s1">apiCall</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">/api/data</span><span class="dl">'</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="p">});</span>

<span class="c1">// Get Web Vitals</span>
<span class="kd">const</span> <span class="nx">vitals</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">monitor</span><span class="p">.</span><span class="nx">getWebVitals</span><span class="p">();</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Web Vitals:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">vitals</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="custom-performance-metrics"><strong>Custom Performance Metrics</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Custom performance metrics</span>
<span class="kr">interface</span> <span class="nx">PerformanceMetric</span> <span class="p">{</span>
  <span class="nl">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">value</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">timestamp</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">tags</span><span class="p">?:</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="kr">string</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">CustomPerformanceMonitor</span> <span class="p">{</span>
  <span class="k">private</span> <span class="nx">metrics</span><span class="p">:</span> <span class="nx">PerformanceMetric</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">private</span> <span class="nx">observers</span><span class="p">:</span> <span class="nx">PerformanceObserver</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span>

  <span class="c1">// Record custom metric</span>
  <span class="nx">recordMetric</span><span class="p">(</span><span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">value</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span> <span class="nx">tags</span><span class="p">?:</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="kr">string</span><span class="o">&gt;</span><span class="p">):</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
      <span class="nx">name</span><span class="p">,</span>
      <span class="nx">value</span><span class="p">,</span>
      <span class="na">timestamp</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">(),</span>
      <span class="nx">tags</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="c1">// Measure memory usage</span>
  <span class="nx">measureMemory</span><span class="p">():</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="dl">'</span><span class="s1">memory</span><span class="dl">'</span> <span class="k">in</span> <span class="nx">performance</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">memory</span> <span class="o">=</span> <span class="p">(</span><span class="nx">performance</span> <span class="k">as</span> <span class="kr">any</span><span class="p">).</span><span class="nx">memory</span><span class="p">;</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">recordMetric</span><span class="p">(</span><span class="dl">'</span><span class="s1">memory.used</span><span class="dl">'</span><span class="p">,</span> <span class="nx">memory</span><span class="p">.</span><span class="nx">usedJSHeapSize</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">recordMetric</span><span class="p">(</span><span class="dl">'</span><span class="s1">memory.total</span><span class="dl">'</span><span class="p">,</span> <span class="nx">memory</span><span class="p">.</span><span class="nx">totalJSHeapSize</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">recordMetric</span><span class="p">(</span><span class="dl">'</span><span class="s1">memory.limit</span><span class="dl">'</span><span class="p">,</span> <span class="nx">memory</span><span class="p">.</span><span class="nx">jsHeapSizeLimit</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// Measure network performance</span>
  <span class="nx">measureNetworkPerformance</span><span class="p">():</span> <span class="k">void</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">observer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PerformanceObserver</span><span class="p">((</span><span class="nx">list</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">entry</span> <span class="k">of</span> <span class="nx">list</span><span class="p">.</span><span class="nx">getEntries</span><span class="p">())</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">entryType</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">navigation</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
          <span class="kd">const</span> <span class="nx">navEntry</span> <span class="o">=</span> <span class="nx">entry</span> <span class="k">as</span> <span class="nx">PerformanceNavigationTiming</span><span class="p">;</span>
          <span class="k">this</span><span class="p">.</span><span class="nx">recordMetric</span><span class="p">(</span><span class="dl">'</span><span class="s1">network.dns</span><span class="dl">'</span><span class="p">,</span> <span class="nx">navEntry</span><span class="p">.</span><span class="nx">domainLookupEnd</span> <span class="o">-</span> <span class="nx">navEntry</span><span class="p">.</span><span class="nx">domainLookupStart</span><span class="p">);</span>
          <span class="k">this</span><span class="p">.</span><span class="nx">recordMetric</span><span class="p">(</span><span class="dl">'</span><span class="s1">network.tcp</span><span class="dl">'</span><span class="p">,</span> <span class="nx">navEntry</span><span class="p">.</span><span class="nx">connectEnd</span> <span class="o">-</span> <span class="nx">navEntry</span><span class="p">.</span><span class="nx">connectStart</span><span class="p">);</span>
          <span class="k">this</span><span class="p">.</span><span class="nx">recordMetric</span><span class="p">(</span><span class="dl">'</span><span class="s1">network.request</span><span class="dl">'</span><span class="p">,</span> <span class="nx">navEntry</span><span class="p">.</span><span class="nx">responseStart</span> <span class="o">-</span> <span class="nx">navEntry</span><span class="p">.</span><span class="nx">requestStart</span><span class="p">);</span>
          <span class="k">this</span><span class="p">.</span><span class="nx">recordMetric</span><span class="p">(</span><span class="dl">'</span><span class="s1">network.response</span><span class="dl">'</span><span class="p">,</span> <span class="nx">navEntry</span><span class="p">.</span><span class="nx">responseEnd</span> <span class="o">-</span> <span class="nx">navEntry</span><span class="p">.</span><span class="nx">responseStart</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">});</span>

    <span class="nx">observer</span><span class="p">.</span><span class="nx">observe</span><span class="p">({</span> <span class="na">entryTypes</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">navigation</span><span class="dl">'</span><span class="p">]</span> <span class="p">});</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">observers</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">observer</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">// Measure resource loading</span>
  <span class="nx">measureResourceLoading</span><span class="p">():</span> <span class="k">void</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">observer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PerformanceObserver</span><span class="p">((</span><span class="nx">list</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">entry</span> <span class="k">of</span> <span class="nx">list</span><span class="p">.</span><span class="nx">getEntries</span><span class="p">())</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">entryType</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">resource</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
          <span class="kd">const</span> <span class="nx">resourceEntry</span> <span class="o">=</span> <span class="nx">entry</span> <span class="k">as</span> <span class="nx">PerformanceResourceTiming</span><span class="p">;</span>
          <span class="k">this</span><span class="p">.</span><span class="nx">recordMetric</span><span class="p">(</span><span class="dl">'</span><span class="s1">resource.load</span><span class="dl">'</span><span class="p">,</span> <span class="nx">resourceEntry</span><span class="p">.</span><span class="nx">duration</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">type</span><span class="p">:</span> <span class="nx">resourceEntry</span><span class="p">.</span><span class="nx">initiatorType</span><span class="p">,</span>
            <span class="na">name</span><span class="p">:</span> <span class="nx">resourceEntry</span><span class="p">.</span><span class="nx">name</span>
          <span class="p">});</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">});</span>

    <span class="nx">observer</span><span class="p">.</span><span class="nx">observe</span><span class="p">({</span> <span class="na">entryTypes</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">resource</span><span class="dl">'</span><span class="p">]</span> <span class="p">});</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">observers</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">observer</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">// Get metrics by name</span>
  <span class="nx">getMetricsByName</span><span class="p">(</span><span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nx">PerformanceMetric</span><span class="p">[]</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">metric</span> <span class="o">=&gt;</span> <span class="nx">metric</span><span class="p">.</span><span class="nx">name</span> <span class="o">===</span> <span class="nx">name</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">// Get average metric value</span>
  <span class="nx">getAverageMetric</span><span class="p">(</span><span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="kr">number</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">metrics</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getMetricsByName</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    
    <span class="kd">const</span> <span class="nx">sum</span> <span class="o">=</span> <span class="nx">metrics</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">metric</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">acc</span> <span class="o">+</span> <span class="nx">metric</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">sum</span> <span class="o">/</span> <span class="nx">metrics</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// Export metrics</span>
  <span class="nx">exportMetrics</span><span class="p">():</span> <span class="nx">PerformanceMetric</span><span class="p">[]</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">[...</span><span class="k">this</span><span class="p">.</span><span class="nx">metrics</span><span class="p">];</span>
  <span class="p">}</span>

  <span class="c1">// Clear metrics</span>
  <span class="nx">clearMetrics</span><span class="p">():</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">metrics</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="p">}</span>

  <span class="c1">// Cleanup observers</span>
  <span class="nx">cleanup</span><span class="p">():</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">observers</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">observer</span> <span class="o">=&gt;</span> <span class="nx">observer</span><span class="p">.</span><span class="nx">disconnect</span><span class="p">());</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">observers</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Usage</span>
<span class="kd">const</span> <span class="nx">customMonitor</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CustomPerformanceMonitor</span><span class="p">();</span>

<span class="c1">// Start monitoring</span>
<span class="nx">customMonitor</span><span class="p">.</span><span class="nx">measureMemory</span><span class="p">();</span>
<span class="nx">customMonitor</span><span class="p">.</span><span class="nx">measureNetworkPerformance</span><span class="p">();</span>
<span class="nx">customMonitor</span><span class="p">.</span><span class="nx">measureResourceLoading</span><span class="p">();</span>

<span class="c1">// Record custom metrics</span>
<span class="nx">customMonitor</span><span class="p">.</span><span class="nx">recordMetric</span><span class="p">(</span><span class="dl">'</span><span class="s1">user.action</span><span class="dl">'</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="p">{</span> <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="na">element</span><span class="p">:</span> <span class="dl">'</span><span class="s1">button</span><span class="dl">'</span> <span class="p">});</span>
<span class="nx">customMonitor</span><span class="p">.</span><span class="nx">recordMetric</span><span class="p">(</span><span class="dl">'</span><span class="s1">api.response.time</span><span class="dl">'</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="p">{</span> <span class="na">endpoint</span><span class="p">:</span> <span class="dl">'</span><span class="s1">/api/users</span><span class="dl">'</span> <span class="p">});</span>

<span class="c1">// Get metrics</span>
<span class="kd">const</span> <span class="nx">averageResponseTime</span> <span class="o">=</span> <span class="nx">customMonitor</span><span class="p">.</span><span class="nx">getAverageMetric</span><span class="p">(</span><span class="dl">'</span><span class="s1">api.response.time</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Average response time:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">averageResponseTime</span><span class="p">);</span>
</code></pre></div></div>

<hr />

<h2 id="-profiling-tools">🔍 <strong>Profiling Tools</strong></h2>

<h3 id="chrome-devtools-profiling"><strong>Chrome DevTools Profiling</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Performance profiling utilities</span>
<span class="kd">class</span> <span class="nx">Profiler</span> <span class="p">{</span>
  <span class="k">private</span> <span class="nx">profiles</span><span class="p">:</span> <span class="nb">Map</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="kr">number</span><span class="p">[]</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Map</span><span class="p">();</span>

  <span class="c1">// Start profiling</span>
  <span class="nx">startProfile</span><span class="p">(</span><span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="dl">'</span><span class="s1">performance</span><span class="dl">'</span> <span class="k">in</span> <span class="nb">window</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">performance</span><span class="p">.</span><span class="nx">mark</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">name</span><span class="p">}</span><span class="s2">-start`</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// End profiling</span>
  <span class="nx">endProfile</span><span class="p">(</span><span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="kr">number</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="dl">'</span><span class="s1">performance</span><span class="dl">'</span> <span class="k">in</span> <span class="nb">window</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">performance</span><span class="p">.</span><span class="nx">mark</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">name</span><span class="p">}</span><span class="s2">-end`</span><span class="p">);</span>
      <span class="nx">performance</span><span class="p">.</span><span class="nx">measure</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="s2">`</span><span class="p">${</span><span class="nx">name</span><span class="p">}</span><span class="s2">-start`</span><span class="p">,</span> <span class="s2">`</span><span class="p">${</span><span class="nx">name</span><span class="p">}</span><span class="s2">-end`</span><span class="p">);</span>
      
      <span class="kd">const</span> <span class="nx">measure</span> <span class="o">=</span> <span class="nx">performance</span><span class="p">.</span><span class="nx">getEntriesByName</span><span class="p">(</span><span class="nx">name</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
      <span class="kd">const</span> <span class="nx">duration</span> <span class="o">=</span> <span class="nx">measure</span><span class="p">.</span><span class="nx">duration</span><span class="p">;</span>
      
      <span class="c1">// Store profile data</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">profiles</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">name</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">profiles</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="p">[]);</span>
      <span class="p">}</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">profiles</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="o">!</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">duration</span><span class="p">);</span>
      
      <span class="k">return</span> <span class="nx">duration</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// Get profile statistics</span>
  <span class="nx">getProfileStats</span><span class="p">(</span><span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="p">{</span>
    <span class="nl">count</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">average</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">min</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">max</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">total</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="p">}</span> <span class="o">|</span> <span class="kc">null</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">durations</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">profiles</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">durations</span> <span class="o">||</span> <span class="nx">durations</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>

    <span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">durations</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">total</span> <span class="o">=</span> <span class="nx">durations</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">sum</span><span class="p">,</span> <span class="nx">duration</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">sum</span> <span class="o">+</span> <span class="nx">duration</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">average</span> <span class="o">=</span> <span class="nx">total</span> <span class="o">/</span> <span class="nx">count</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">min</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(...</span><span class="nx">durations</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">max</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(...</span><span class="nx">durations</span><span class="p">);</span>

    <span class="k">return</span> <span class="p">{</span> <span class="nx">count</span><span class="p">,</span> <span class="nx">average</span><span class="p">,</span> <span class="nx">min</span><span class="p">,</span> <span class="nx">max</span><span class="p">,</span> <span class="nx">total</span> <span class="p">};</span>
  <span class="p">}</span>

  <span class="c1">// Clear profiles</span>
  <span class="nx">clearProfiles</span><span class="p">():</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">profiles</span><span class="p">.</span><span class="nx">clear</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="dl">'</span><span class="s1">performance</span><span class="dl">'</span> <span class="k">in</span> <span class="nb">window</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">performance</span><span class="p">.</span><span class="nx">clearMarks</span><span class="p">();</span>
      <span class="nx">performance</span><span class="p">.</span><span class="nx">clearMeasures</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Usage</span>
<span class="kd">const</span> <span class="nx">profiler</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Profiler</span><span class="p">();</span>

<span class="c1">// Profile function execution</span>
<span class="kd">function</span> <span class="nx">expensiveFunction</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">profiler</span><span class="p">.</span><span class="nx">startProfile</span><span class="p">(</span><span class="dl">'</span><span class="s1">expensiveFunction</span><span class="dl">'</span><span class="p">);</span>
  
  <span class="c1">// Expensive operation</span>
  <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">({</span> <span class="na">length</span><span class="p">:</span> <span class="mi">1000000</span> <span class="p">},</span> <span class="p">(</span><span class="nx">_</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">i</span> <span class="o">*</span> <span class="nx">i</span><span class="p">);</span>
  
  <span class="kd">const</span> <span class="nx">duration</span> <span class="o">=</span> <span class="nx">profiler</span><span class="p">.</span><span class="nx">endProfile</span><span class="p">(</span><span class="dl">'</span><span class="s1">expensiveFunction</span><span class="dl">'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Function took </span><span class="p">${</span><span class="nx">duration</span><span class="p">}</span><span class="s2">ms`</span><span class="p">);</span>
  
  <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Run multiple times to get statistics</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">expensiveFunction</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// Get statistics</span>
<span class="kd">const</span> <span class="nx">stats</span> <span class="o">=</span> <span class="nx">profiler</span><span class="p">.</span><span class="nx">getProfileStats</span><span class="p">(</span><span class="dl">'</span><span class="s1">expensiveFunction</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Profile statistics:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">stats</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="nodejs-profiling"><strong>Node.js Profiling</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Node.js performance profiling</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">performance</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">perf_hooks</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">class</span> <span class="nx">NodeProfiler</span> <span class="p">{</span>
  <span class="k">private</span> <span class="nx">measurements</span><span class="p">:</span> <span class="nb">Map</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="kr">number</span><span class="p">[]</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Map</span><span class="p">();</span>

  <span class="c1">// Measure function execution time</span>
  <span class="nx">measureFunction</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">fn</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">T</span><span class="p">):</span> <span class="nx">T</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">start</span> <span class="o">=</span> <span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
    <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">();</span>
    <span class="kd">const</span> <span class="nx">end</span> <span class="o">=</span> <span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
    
    <span class="kd">const</span> <span class="nx">duration</span> <span class="o">=</span> <span class="nx">end</span> <span class="o">-</span> <span class="nx">start</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">recordMeasurement</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">duration</span><span class="p">);</span>
    
    <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// Measure async function execution time</span>
  <span class="k">async</span> <span class="nx">measureAsyncFunction</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">fn</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">start</span> <span class="o">=</span> <span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
    <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fn</span><span class="p">();</span>
    <span class="kd">const</span> <span class="nx">end</span> <span class="o">=</span> <span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
    
    <span class="kd">const</span> <span class="nx">duration</span> <span class="o">=</span> <span class="nx">end</span> <span class="o">-</span> <span class="nx">start</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">recordMeasurement</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">duration</span><span class="p">);</span>
    
    <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// Record measurement</span>
  <span class="k">private</span> <span class="nx">recordMeasurement</span><span class="p">(</span><span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">duration</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">measurements</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">name</span><span class="p">))</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">measurements</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="p">[]);</span>
    <span class="p">}</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">measurements</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span><span class="o">!</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">duration</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">// Get measurement statistics</span>
  <span class="nx">getStats</span><span class="p">(</span><span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="p">{</span>
    <span class="nl">count</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">average</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">min</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">max</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">total</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">p50</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">p95</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">p99</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="p">}</span> <span class="o">|</span> <span class="kc">null</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">measurements</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">measurements</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">measurements</span> <span class="o">||</span> <span class="nx">measurements</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>

    <span class="kd">const</span> <span class="nx">sorted</span> <span class="o">=</span> <span class="p">[...</span><span class="nx">measurements</span><span class="p">].</span><span class="nx">sort</span><span class="p">((</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">a</span> <span class="o">-</span> <span class="nx">b</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">measurements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">total</span> <span class="o">=</span> <span class="nx">measurements</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">sum</span><span class="p">,</span> <span class="nx">duration</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">sum</span> <span class="o">+</span> <span class="nx">duration</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">average</span> <span class="o">=</span> <span class="nx">total</span> <span class="o">/</span> <span class="nx">count</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">min</span> <span class="o">=</span> <span class="nx">sorted</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
    <span class="kd">const</span> <span class="nx">max</span> <span class="o">=</span> <span class="nx">sorted</span><span class="p">[</span><span class="nx">sorted</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
    <span class="kd">const</span> <span class="nx">p50</span> <span class="o">=</span> <span class="nx">sorted</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">sorted</span><span class="p">.</span><span class="nx">length</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">)];</span>
    <span class="kd">const</span> <span class="nx">p95</span> <span class="o">=</span> <span class="nx">sorted</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">sorted</span><span class="p">.</span><span class="nx">length</span> <span class="o">*</span> <span class="mf">0.95</span><span class="p">)];</span>
    <span class="kd">const</span> <span class="nx">p99</span> <span class="o">=</span> <span class="nx">sorted</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">sorted</span><span class="p">.</span><span class="nx">length</span> <span class="o">*</span> <span class="mf">0.99</span><span class="p">)];</span>

    <span class="k">return</span> <span class="p">{</span> <span class="nx">count</span><span class="p">,</span> <span class="nx">average</span><span class="p">,</span> <span class="nx">min</span><span class="p">,</span> <span class="nx">max</span><span class="p">,</span> <span class="nx">total</span><span class="p">,</span> <span class="nx">p50</span><span class="p">,</span> <span class="nx">p95</span><span class="p">,</span> <span class="nx">p99</span> <span class="p">};</span>
  <span class="p">}</span>

  <span class="c1">// Export all measurements</span>
  <span class="nx">exportMeasurements</span><span class="p">():</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="kr">number</span><span class="p">[]</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="na">result</span><span class="p">:</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="kr">number</span><span class="p">[]</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="p">[</span><span class="nx">name</span><span class="p">,</span> <span class="nx">measurements</span><span class="p">]</span> <span class="k">of</span> <span class="k">this</span><span class="p">.</span><span class="nx">measurements</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">result</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">[...</span><span class="nx">measurements</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Usage</span>
<span class="kd">const</span> <span class="nx">nodeProfiler</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NodeProfiler</span><span class="p">();</span>

<span class="c1">// Profile database query</span>
<span class="kd">const</span> <span class="nx">dbQuery</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Simulate database query</span>
  <span class="k">await</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span> <span class="o">=&gt;</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="mi">100</span><span class="p">));</span>
  <span class="k">return</span> <span class="p">{</span> <span class="na">users</span><span class="p">:</span> <span class="p">[]</span> <span class="p">};</span>
<span class="p">};</span>

<span class="c1">// Measure multiple queries</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">await</span> <span class="nx">nodeProfiler</span><span class="p">.</span><span class="nx">measureAsyncFunction</span><span class="p">(</span><span class="dl">'</span><span class="s1">dbQuery</span><span class="dl">'</span><span class="p">,</span> <span class="nx">dbQuery</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Get statistics</span>
<span class="kd">const</span> <span class="nx">stats</span> <span class="o">=</span> <span class="nx">nodeProfiler</span><span class="p">.</span><span class="nx">getStats</span><span class="p">(</span><span class="dl">'</span><span class="s1">dbQuery</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Database query statistics:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">stats</span><span class="p">);</span>
</code></pre></div></div>

<hr />

<h2 id="-runtime-performance">⚡ <strong>Runtime Performance</strong></h2>

<h3 id="memory-monitoring"><strong>Memory Monitoring</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Memory monitoring utilities</span>
<span class="kd">class</span> <span class="nx">MemoryMonitor</span> <span class="p">{</span>
  <span class="k">private</span> <span class="nx">memorySnapshots</span><span class="p">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="p">{</span>
    <span class="na">timestamp</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">used</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">total</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">limit</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="p">}</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[];</span>

  <span class="c1">// Take memory snapshot</span>
  <span class="nx">takeSnapshot</span><span class="p">():</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="dl">'</span><span class="s1">memory</span><span class="dl">'</span> <span class="k">in</span> <span class="nx">performance</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">memory</span> <span class="o">=</span> <span class="p">(</span><span class="nx">performance</span> <span class="k">as</span> <span class="kr">any</span><span class="p">).</span><span class="nx">memory</span><span class="p">;</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">memorySnapshots</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
        <span class="na">timestamp</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">(),</span>
        <span class="na">used</span><span class="p">:</span> <span class="nx">memory</span><span class="p">.</span><span class="nx">usedJSHeapSize</span><span class="p">,</span>
        <span class="na">total</span><span class="p">:</span> <span class="nx">memory</span><span class="p">.</span><span class="nx">totalJSHeapSize</span><span class="p">,</span>
        <span class="na">limit</span><span class="p">:</span> <span class="nx">memory</span><span class="p">.</span><span class="nx">jsHeapSizeLimit</span>
      <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// Get memory usage</span>
  <span class="nx">getMemoryUsage</span><span class="p">():</span> <span class="p">{</span>
    <span class="nl">used</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">total</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">limit</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">percentage</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="p">}</span> <span class="o">|</span> <span class="kc">null</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="dl">'</span><span class="s1">memory</span><span class="dl">'</span> <span class="k">in</span> <span class="nx">performance</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">memory</span> <span class="o">=</span> <span class="p">(</span><span class="nx">performance</span> <span class="k">as</span> <span class="kr">any</span><span class="p">).</span><span class="nx">memory</span><span class="p">;</span>
      <span class="k">return</span> <span class="p">{</span>
        <span class="na">used</span><span class="p">:</span> <span class="nx">memory</span><span class="p">.</span><span class="nx">usedJSHeapSize</span><span class="p">,</span>
        <span class="na">total</span><span class="p">:</span> <span class="nx">memory</span><span class="p">.</span><span class="nx">totalJSHeapSize</span><span class="p">,</span>
        <span class="na">limit</span><span class="p">:</span> <span class="nx">memory</span><span class="p">.</span><span class="nx">jsHeapSizeLimit</span><span class="p">,</span>
        <span class="na">percentage</span><span class="p">:</span> <span class="p">(</span><span class="nx">memory</span><span class="p">.</span><span class="nx">usedJSHeapSize</span> <span class="o">/</span> <span class="nx">memory</span><span class="p">.</span><span class="nx">jsHeapSizeLimit</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
      <span class="p">};</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// Monitor memory leaks</span>
  <span class="nx">detectMemoryLeaks</span><span class="p">():</span> <span class="p">{</span>
    <span class="nl">isLeaking</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
    <span class="nl">growthRate</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">recommendation</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="p">}</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">memorySnapshots</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="p">{</span>
        <span class="na">isLeaking</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="na">growthRate</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="na">recommendation</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Need more data points</span><span class="dl">'</span>
      <span class="p">};</span>
    <span class="p">}</span>

    <span class="kd">const</span> <span class="nx">recent</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">memorySnapshots</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">growth</span> <span class="o">=</span> <span class="nx">recent</span><span class="p">[</span><span class="nx">recent</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">].</span><span class="nx">used</span> <span class="o">-</span> <span class="nx">recent</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">used</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">growthRate</span> <span class="o">=</span> <span class="nx">growth</span> <span class="o">/</span> <span class="nx">recent</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>

    <span class="kd">const</span> <span class="nx">isLeaking</span> <span class="o">=</span> <span class="nx">growthRate</span> <span class="o">&gt;</span> <span class="mi">1000000</span><span class="p">;</span> <span class="c1">// 1MB per snapshot</span>
    <span class="kd">const</span> <span class="nx">recommendation</span> <span class="o">=</span> <span class="nx">isLeaking</span> 
      <span class="p">?</span> <span class="dl">'</span><span class="s1">Potential memory leak detected. Check for circular references and event listeners.</span><span class="dl">'</span>
      <span class="p">:</span> <span class="dl">'</span><span class="s1">Memory usage appears stable.</span><span class="dl">'</span><span class="p">;</span>

    <span class="k">return</span> <span class="p">{</span> <span class="nx">isLeaking</span><span class="p">,</span> <span class="nx">growthRate</span><span class="p">,</span> <span class="nx">recommendation</span> <span class="p">};</span>
  <span class="p">}</span>

  <span class="c1">// Clear snapshots</span>
  <span class="nx">clearSnapshots</span><span class="p">():</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">memorySnapshots</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Usage</span>
<span class="kd">const</span> <span class="nx">memoryMonitor</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MemoryMonitor</span><span class="p">();</span>

<span class="c1">// Take snapshots periodically</span>
<span class="nx">setInterval</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">memoryMonitor</span><span class="p">.</span><span class="nx">takeSnapshot</span><span class="p">();</span>
<span class="p">},</span> <span class="mi">5000</span><span class="p">);</span>

<span class="c1">// Check for memory leaks</span>
<span class="nx">setInterval</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">leakInfo</span> <span class="o">=</span> <span class="nx">memoryMonitor</span><span class="p">.</span><span class="nx">detectMemoryLeaks</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">leakInfo</span><span class="p">.</span><span class="nx">isLeaking</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="dl">'</span><span class="s1">Memory leak detected:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">leakInfo</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="mi">30000</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="performance-budgets"><strong>Performance Budgets</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Performance budget monitoring</span>
<span class="kr">interface</span> <span class="nx">PerformanceBudget</span> <span class="p">{</span>
  <span class="nl">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">threshold</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">unit</span><span class="p">:</span> <span class="dl">'</span><span class="s1">ms</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">bytes</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">count</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">current</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">exceeded</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">PerformanceBudgetMonitor</span> <span class="p">{</span>
  <span class="k">private</span> <span class="nx">budgets</span><span class="p">:</span> <span class="nb">Map</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="nx">PerformanceBudget</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Map</span><span class="p">();</span>

  <span class="c1">// Add performance budget</span>
  <span class="nx">addBudget</span><span class="p">(</span><span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">threshold</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span> <span class="nx">unit</span><span class="p">:</span> <span class="dl">'</span><span class="s1">ms</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">bytes</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">count</span><span class="dl">'</span><span class="p">):</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">budgets</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="p">{</span>
      <span class="nx">name</span><span class="p">,</span>
      <span class="nx">threshold</span><span class="p">,</span>
      <span class="nx">unit</span><span class="p">,</span>
      <span class="na">current</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="na">exceeded</span><span class="p">:</span> <span class="kc">false</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="c1">// Update budget value</span>
  <span class="nx">updateBudget</span><span class="p">(</span><span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">value</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="k">void</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">budget</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">budgets</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">budget</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">budget</span><span class="p">.</span><span class="nx">current</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
      <span class="nx">budget</span><span class="p">.</span><span class="nx">exceeded</span> <span class="o">=</span> <span class="nx">value</span> <span class="o">&gt;</span> <span class="nx">budget</span><span class="p">.</span><span class="nx">threshold</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// Check all budgets</span>
  <span class="nx">checkBudgets</span><span class="p">():</span> <span class="p">{</span>
    <span class="nl">passed</span><span class="p">:</span> <span class="nx">PerformanceBudget</span><span class="p">[];</span>
    <span class="nl">failed</span><span class="p">:</span> <span class="nx">PerformanceBudget</span><span class="p">[];</span>
  <span class="p">}</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="na">passed</span><span class="p">:</span> <span class="nx">PerformanceBudget</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="kd">const</span> <span class="na">failed</span><span class="p">:</span> <span class="nx">PerformanceBudget</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span>

    <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">budget</span> <span class="k">of</span> <span class="k">this</span><span class="p">.</span><span class="nx">budgets</span><span class="p">.</span><span class="nx">values</span><span class="p">())</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">budget</span><span class="p">.</span><span class="nx">exceeded</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">failed</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">budget</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">passed</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">budget</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="p">{</span> <span class="nx">passed</span><span class="p">,</span> <span class="nx">failed</span> <span class="p">};</span>
  <span class="p">}</span>

  <span class="c1">// Get budget report</span>
  <span class="nx">getBudgetReport</span><span class="p">():</span> <span class="kr">string</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">passed</span><span class="p">,</span> <span class="nx">failed</span> <span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">checkBudgets</span><span class="p">();</span>
    <span class="kd">let</span> <span class="nx">report</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">Performance Budget Report:</span><span class="se">\n\n</span><span class="dl">'</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">failed</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">report</span> <span class="o">+=</span> <span class="dl">'</span><span class="s1">❌ Failed Budgets:</span><span class="se">\n</span><span class="dl">'</span><span class="p">;</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">budget</span> <span class="k">of</span> <span class="nx">failed</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">report</span> <span class="o">+=</span> <span class="s2">`  - </span><span class="p">${</span><span class="nx">budget</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="s2">: </span><span class="p">${</span><span class="nx">budget</span><span class="p">.</span><span class="nx">current</span><span class="p">}${</span><span class="nx">budget</span><span class="p">.</span><span class="nx">unit</span><span class="p">}</span><span class="s2"> (threshold: </span><span class="p">${</span><span class="nx">budget</span><span class="p">.</span><span class="nx">threshold</span><span class="p">}${</span><span class="nx">budget</span><span class="p">.</span><span class="nx">unit</span><span class="p">}</span><span class="s2">)\n`</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="nx">report</span> <span class="o">+=</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">passed</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">report</span> <span class="o">+=</span> <span class="dl">'</span><span class="s1">✅ Passed Budgets:</span><span class="se">\n</span><span class="dl">'</span><span class="p">;</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">budget</span> <span class="k">of</span> <span class="nx">passed</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">report</span> <span class="o">+=</span> <span class="s2">`  - </span><span class="p">${</span><span class="nx">budget</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="s2">: </span><span class="p">${</span><span class="nx">budget</span><span class="p">.</span><span class="nx">current</span><span class="p">}${</span><span class="nx">budget</span><span class="p">.</span><span class="nx">unit</span><span class="p">}</span><span class="s2"> (threshold: </span><span class="p">${</span><span class="nx">budget</span><span class="p">.</span><span class="nx">threshold</span><span class="p">}${</span><span class="nx">budget</span><span class="p">.</span><span class="nx">unit</span><span class="p">}</span><span class="s2">)\n`</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">report</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Usage</span>
<span class="kd">const</span> <span class="nx">budgetMonitor</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PerformanceBudgetMonitor</span><span class="p">();</span>

<span class="c1">// Set up budgets</span>
<span class="nx">budgetMonitor</span><span class="p">.</span><span class="nx">addBudget</span><span class="p">(</span><span class="dl">'</span><span class="s1">pageLoadTime</span><span class="dl">'</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="dl">'</span><span class="s1">ms</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">budgetMonitor</span><span class="p">.</span><span class="nx">addBudget</span><span class="p">(</span><span class="dl">'</span><span class="s1">bundleSize</span><span class="dl">'</span><span class="p">,</span> <span class="mi">500000</span><span class="p">,</span> <span class="dl">'</span><span class="s1">bytes</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">budgetMonitor</span><span class="p">.</span><span class="nx">addBudget</span><span class="p">(</span><span class="dl">'</span><span class="s1">apiResponseTime</span><span class="dl">'</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="dl">'</span><span class="s1">ms</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">budgetMonitor</span><span class="p">.</span><span class="nx">addBudget</span><span class="p">(</span><span class="dl">'</span><span class="s1">memoryUsage</span><span class="dl">'</span><span class="p">,</span> <span class="mi">100000000</span><span class="p">,</span> <span class="dl">'</span><span class="s1">bytes</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// Update budgets</span>
<span class="nx">budgetMonitor</span><span class="p">.</span><span class="nx">updateBudget</span><span class="p">(</span><span class="dl">'</span><span class="s1">pageLoadTime</span><span class="dl">'</span><span class="p">,</span> <span class="mi">1500</span><span class="p">);</span>
<span class="nx">budgetMonitor</span><span class="p">.</span><span class="nx">updateBudget</span><span class="p">(</span><span class="dl">'</span><span class="s1">bundleSize</span><span class="dl">'</span><span class="p">,</span> <span class="mi">600000</span><span class="p">);</span>
<span class="nx">budgetMonitor</span><span class="p">.</span><span class="nx">updateBudget</span><span class="p">(</span><span class="dl">'</span><span class="s1">apiResponseTime</span><span class="dl">'</span><span class="p">,</span> <span class="mi">300</span><span class="p">);</span>
<span class="nx">budgetMonitor</span><span class="p">.</span><span class="nx">updateBudget</span><span class="p">(</span><span class="dl">'</span><span class="s1">memoryUsage</span><span class="dl">'</span><span class="p">,</span> <span class="mi">80000000</span><span class="p">);</span>

<span class="c1">// Check budgets</span>
<span class="kd">const</span> <span class="nx">report</span> <span class="o">=</span> <span class="nx">budgetMonitor</span><span class="p">.</span><span class="nx">getBudgetReport</span><span class="p">();</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">report</span><span class="p">);</span>
</code></pre></div></div>

<hr />

<h2 id="-bundle-analysis">📦 <strong>Bundle Analysis</strong></h2>

<h3 id="bundle-size-monitoring"><strong>Bundle Size Monitoring</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Bundle size monitoring</span>
<span class="kr">interface</span> <span class="nx">BundleInfo</span> <span class="p">{</span>
  <span class="nl">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">size</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">gzippedSize</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">chunks</span><span class="p">:</span> <span class="kr">string</span><span class="p">[];</span>
  <span class="nl">dependencies</span><span class="p">:</span> <span class="kr">string</span><span class="p">[];</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">BundleAnalyzer</span> <span class="p">{</span>
  <span class="k">private</span> <span class="nx">bundles</span><span class="p">:</span> <span class="nb">Map</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="nx">BundleInfo</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Map</span><span class="p">();</span>

  <span class="c1">// Add bundle information</span>
  <span class="nx">addBundle</span><span class="p">(</span><span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">info</span><span class="p">:</span> <span class="nx">BundleInfo</span><span class="p">):</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">bundles</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">info</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">// Get bundle size</span>
  <span class="nx">getBundleSize</span><span class="p">(</span><span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="kr">number</span> <span class="o">|</span> <span class="kc">null</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">bundle</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">bundles</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">bundle</span> <span class="p">?</span> <span class="nx">bundle</span><span class="p">.</span><span class="nx">size</span> <span class="p">:</span> <span class="kc">null</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// Get total bundle size</span>
  <span class="nx">getTotalSize</span><span class="p">():</span> <span class="kr">number</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">total</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">bundle</span> <span class="k">of</span> <span class="k">this</span><span class="p">.</span><span class="nx">bundles</span><span class="p">.</span><span class="nx">values</span><span class="p">())</span> <span class="p">{</span>
      <span class="nx">total</span> <span class="o">+=</span> <span class="nx">bundle</span><span class="p">.</span><span class="nx">size</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">total</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// Get largest bundles</span>
  <span class="nx">getLargestBundles</span><span class="p">(</span><span class="nx">count</span><span class="p">:</span> <span class="kr">number</span> <span class="o">=</span> <span class="mi">5</span><span class="p">):</span> <span class="nx">BundleInfo</span><span class="p">[]</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bundles</span><span class="p">.</span><span class="nx">values</span><span class="p">())</span>
      <span class="p">.</span><span class="nx">sort</span><span class="p">((</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">b</span><span class="p">.</span><span class="nx">size</span> <span class="o">-</span> <span class="nx">a</span><span class="p">.</span><span class="nx">size</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">count</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">// Analyze bundle composition</span>
  <span class="nx">analyzeComposition</span><span class="p">():</span> <span class="p">{</span>
    <span class="nl">totalSize</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">averageSize</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">largestBundle</span><span class="p">:</span> <span class="nx">BundleInfo</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>
    <span class="nl">smallestBundle</span><span class="p">:</span> <span class="nx">BundleInfo</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>
    <span class="nl">sizeDistribution</span><span class="p">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="p">{</span> <span class="na">range</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span> <span class="nl">count</span><span class="p">:</span> <span class="kr">number</span> <span class="p">}</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="p">}</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">bundles</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bundles</span><span class="p">.</span><span class="nx">values</span><span class="p">());</span>
    <span class="kd">const</span> <span class="nx">totalSize</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getTotalSize</span><span class="p">();</span>
    <span class="kd">const</span> <span class="nx">averageSize</span> <span class="o">=</span> <span class="nx">totalSize</span> <span class="o">/</span> <span class="nx">bundles</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
    
    <span class="kd">const</span> <span class="nx">largestBundle</span> <span class="o">=</span> <span class="nx">bundles</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">max</span><span class="p">,</span> <span class="nx">bundle</span><span class="p">)</span> <span class="o">=&gt;</span> 
      <span class="nx">bundle</span><span class="p">.</span><span class="nx">size</span> <span class="o">&gt;</span> <span class="nx">max</span><span class="p">.</span><span class="nx">size</span> <span class="p">?</span> <span class="nx">bundle</span> <span class="p">:</span> <span class="nx">max</span><span class="p">,</span> <span class="nx">bundles</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">||</span> <span class="kc">null</span><span class="p">);</span>
    
    <span class="kd">const</span> <span class="nx">smallestBundle</span> <span class="o">=</span> <span class="nx">bundles</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">min</span><span class="p">,</span> <span class="nx">bundle</span><span class="p">)</span> <span class="o">=&gt;</span> 
      <span class="nx">bundle</span><span class="p">.</span><span class="nx">size</span> <span class="o">&lt;</span> <span class="nx">min</span><span class="p">.</span><span class="nx">size</span> <span class="p">?</span> <span class="nx">bundle</span> <span class="p">:</span> <span class="nx">min</span><span class="p">,</span> <span class="nx">bundles</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">||</span> <span class="kc">null</span><span class="p">);</span>

    <span class="c1">// Size distribution</span>
    <span class="kd">const</span> <span class="nx">sizeDistribution</span> <span class="o">=</span> <span class="p">[</span>
      <span class="p">{</span> <span class="na">range</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0-100KB</span><span class="dl">'</span><span class="p">,</span> <span class="na">count</span><span class="p">:</span> <span class="nx">bundles</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">b</span> <span class="o">=&gt;</span> <span class="nx">b</span><span class="p">.</span><span class="nx">size</span> <span class="o">&lt;</span> <span class="mi">100000</span><span class="p">).</span><span class="nx">length</span> <span class="p">},</span>
      <span class="p">{</span> <span class="na">range</span><span class="p">:</span> <span class="dl">'</span><span class="s1">100KB-500KB</span><span class="dl">'</span><span class="p">,</span> <span class="na">count</span><span class="p">:</span> <span class="nx">bundles</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">b</span> <span class="o">=&gt;</span> <span class="nx">b</span><span class="p">.</span><span class="nx">size</span> <span class="o">&gt;=</span> <span class="mi">100000</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span><span class="p">.</span><span class="nx">size</span> <span class="o">&lt;</span> <span class="mi">500000</span><span class="p">).</span><span class="nx">length</span> <span class="p">},</span>
      <span class="p">{</span> <span class="na">range</span><span class="p">:</span> <span class="dl">'</span><span class="s1">500KB-1MB</span><span class="dl">'</span><span class="p">,</span> <span class="na">count</span><span class="p">:</span> <span class="nx">bundles</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">b</span> <span class="o">=&gt;</span> <span class="nx">b</span><span class="p">.</span><span class="nx">size</span> <span class="o">&gt;=</span> <span class="mi">500000</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span><span class="p">.</span><span class="nx">size</span> <span class="o">&lt;</span> <span class="mi">1000000</span><span class="p">).</span><span class="nx">length</span> <span class="p">},</span>
      <span class="p">{</span> <span class="na">range</span><span class="p">:</span> <span class="dl">'</span><span class="s1">1MB+</span><span class="dl">'</span><span class="p">,</span> <span class="na">count</span><span class="p">:</span> <span class="nx">bundles</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">b</span> <span class="o">=&gt;</span> <span class="nx">b</span><span class="p">.</span><span class="nx">size</span> <span class="o">&gt;=</span> <span class="mi">1000000</span><span class="p">).</span><span class="nx">length</span> <span class="p">}</span>
    <span class="p">];</span>

    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">totalSize</span><span class="p">,</span>
      <span class="nx">averageSize</span><span class="p">,</span>
      <span class="nx">largestBundle</span><span class="p">,</span>
      <span class="nx">smallestBundle</span><span class="p">,</span>
      <span class="nx">sizeDistribution</span>
    <span class="p">};</span>
  <span class="p">}</span>

  <span class="c1">// Generate bundle report</span>
  <span class="nx">generateReport</span><span class="p">():</span> <span class="kr">string</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">analysis</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">analyzeComposition</span><span class="p">();</span>
    <span class="kd">let</span> <span class="nx">report</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">Bundle Analysis Report:</span><span class="se">\n\n</span><span class="dl">'</span><span class="p">;</span>

    <span class="nx">report</span> <span class="o">+=</span> <span class="s2">`Total Bundle Size: </span><span class="p">${(</span><span class="nx">analysis</span><span class="p">.</span><span class="nx">totalSize</span> <span class="o">/</span> <span class="mi">1024</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)}</span><span class="s2"> MB\n`</span><span class="p">;</span>
    <span class="nx">report</span> <span class="o">+=</span> <span class="s2">`Average Bundle Size: </span><span class="p">${(</span><span class="nx">analysis</span><span class="p">.</span><span class="nx">averageSize</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)}</span><span class="s2"> KB\n\n`</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">analysis</span><span class="p">.</span><span class="nx">largestBundle</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">report</span> <span class="o">+=</span> <span class="s2">`Largest Bundle: </span><span class="p">${</span><span class="nx">analysis</span><span class="p">.</span><span class="nx">largestBundle</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="s2"> (</span><span class="p">${(</span><span class="nx">analysis</span><span class="p">.</span><span class="nx">largestBundle</span><span class="p">.</span><span class="nx">size</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)}</span><span class="s2"> KB)\n`</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">analysis</span><span class="p">.</span><span class="nx">smallestBundle</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">report</span> <span class="o">+=</span> <span class="s2">`Smallest Bundle: </span><span class="p">${</span><span class="nx">analysis</span><span class="p">.</span><span class="nx">smallestBundle</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="s2"> (</span><span class="p">${(</span><span class="nx">analysis</span><span class="p">.</span><span class="nx">smallestBundle</span><span class="p">.</span><span class="nx">size</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)}</span><span class="s2"> KB)\n\n`</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">report</span> <span class="o">+=</span> <span class="dl">'</span><span class="s1">Size Distribution:</span><span class="se">\n</span><span class="dl">'</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">dist</span> <span class="k">of</span> <span class="nx">analysis</span><span class="p">.</span><span class="nx">sizeDistribution</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">report</span> <span class="o">+=</span> <span class="s2">`  </span><span class="p">${</span><span class="nx">dist</span><span class="p">.</span><span class="nx">range</span><span class="p">}</span><span class="s2">: </span><span class="p">${</span><span class="nx">dist</span><span class="p">.</span><span class="nx">count</span><span class="p">}</span><span class="s2"> bundles\n`</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">report</span> <span class="o">+=</span> <span class="dl">'</span><span class="se">\n</span><span class="s1">Largest Bundles:</span><span class="se">\n</span><span class="dl">'</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">largestBundles</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getLargestBundles</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">bundle</span> <span class="k">of</span> <span class="nx">largestBundles</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">report</span> <span class="o">+=</span> <span class="s2">`  </span><span class="p">${</span><span class="nx">bundle</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="s2">: </span><span class="p">${(</span><span class="nx">bundle</span><span class="p">.</span><span class="nx">size</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)}</span><span class="s2"> KB\n`</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">report</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Usage</span>
<span class="kd">const</span> <span class="nx">bundleAnalyzer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BundleAnalyzer</span><span class="p">();</span>

<span class="c1">// Add bundle information</span>
<span class="nx">bundleAnalyzer</span><span class="p">.</span><span class="nx">addBundle</span><span class="p">(</span><span class="dl">'</span><span class="s1">main</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">main</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">size</span><span class="p">:</span> <span class="mi">500000</span><span class="p">,</span>
  <span class="na">gzippedSize</span><span class="p">:</span> <span class="mi">150000</span><span class="p">,</span>
  <span class="na">chunks</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">main.js</span><span class="dl">'</span><span class="p">],</span>
  <span class="na">dependencies</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">react-dom</span><span class="dl">'</span><span class="p">]</span>
<span class="p">});</span>

<span class="nx">bundleAnalyzer</span><span class="p">.</span><span class="nx">addBundle</span><span class="p">(</span><span class="dl">'</span><span class="s1">vendor</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">vendor</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">size</span><span class="p">:</span> <span class="mi">800000</span><span class="p">,</span>
  <span class="na">gzippedSize</span><span class="p">:</span> <span class="mi">250000</span><span class="p">,</span>
  <span class="na">chunks</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">vendor.js</span><span class="dl">'</span><span class="p">],</span>
  <span class="na">dependencies</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">lodash</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">moment</span><span class="dl">'</span><span class="p">]</span>
<span class="p">});</span>

<span class="c1">// Generate report</span>
<span class="kd">const</span> <span class="nx">report</span> <span class="o">=</span> <span class="nx">bundleAnalyzer</span><span class="p">.</span><span class="nx">generateReport</span><span class="p">();</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">report</span><span class="p">);</span>
</code></pre></div></div>

<hr />

<h2 id="-performance-testing">🧪 <strong>Performance Testing</strong></h2>

<h3 id="load-testing"><strong>Load Testing</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Load testing utilities</span>
<span class="kr">interface</span> <span class="nx">LoadTestConfig</span> <span class="p">{</span>
  <span class="nl">concurrency</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">duration</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">rampUp</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">target</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">LoadTestResult</span> <span class="p">{</span>
  <span class="nl">totalRequests</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">successfulRequests</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">failedRequests</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">averageResponseTime</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">minResponseTime</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">maxResponseTime</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">p95ResponseTime</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">p99ResponseTime</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">requestsPerSecond</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">errors</span><span class="p">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="p">{</span> <span class="na">error</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span> <span class="nl">count</span><span class="p">:</span> <span class="kr">number</span> <span class="p">}</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">LoadTester</span> <span class="p">{</span>
  <span class="k">private</span> <span class="nx">results</span><span class="p">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="p">{</span>
    <span class="na">timestamp</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">responseTime</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">success</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
    <span class="nl">error</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="p">}</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[];</span>

  <span class="c1">// Run load test</span>
  <span class="k">async</span> <span class="nx">runLoadTest</span><span class="p">(</span>
    <span class="nx">config</span><span class="p">:</span> <span class="nx">LoadTestConfig</span><span class="p">,</span>
    <span class="nx">requestFn</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">Response</span><span class="o">&gt;</span>
  <span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">LoadTestResult</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">results</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="kd">const</span> <span class="nx">startTime</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
    <span class="kd">const</span> <span class="nx">endTime</span> <span class="o">=</span> <span class="nx">startTime</span> <span class="o">+</span> <span class="nx">config</span><span class="p">.</span><span class="nx">duration</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">;</span>

    <span class="c1">// Create workers</span>
    <span class="kd">const</span> <span class="nx">workers</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">({</span> <span class="na">length</span><span class="p">:</span> <span class="nx">config</span><span class="p">.</span><span class="nx">concurrency</span> <span class="p">},</span> <span class="p">(</span><span class="nx">_</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> 
      <span class="k">this</span><span class="p">.</span><span class="nx">createWorker</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">config</span><span class="p">,</span> <span class="nx">requestFn</span><span class="p">,</span> <span class="nx">endTime</span><span class="p">)</span>
    <span class="p">);</span>

    <span class="c1">// Wait for all workers to complete</span>
    <span class="k">await</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">(</span><span class="nx">workers</span><span class="p">);</span>

    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">calculateResults</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="c1">// Create worker</span>
  <span class="k">private</span> <span class="k">async</span> <span class="nx">createWorker</span><span class="p">(</span>
    <span class="nx">workerId</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span>
    <span class="nx">config</span><span class="p">:</span> <span class="nx">LoadTestConfig</span><span class="p">,</span>
    <span class="nx">requestFn</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">Response</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="nx">endTime</span><span class="p">:</span> <span class="kr">number</span>
  <span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="c1">// Ramp up delay</span>
    <span class="kd">const</span> <span class="nx">rampUpDelay</span> <span class="o">=</span> <span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="nx">rampUp</span> <span class="o">/</span> <span class="nx">config</span><span class="p">.</span><span class="nx">concurrency</span><span class="p">)</span> <span class="o">*</span> <span class="nx">workerId</span><span class="p">;</span>
    <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">delay</span><span class="p">(</span><span class="nx">rampUpDelay</span><span class="p">);</span>

    <span class="k">while</span> <span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">&lt;</span> <span class="nx">endTime</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">start</span> <span class="o">=</span> <span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
      <span class="k">try</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">requestFn</span><span class="p">();</span>
        <span class="kd">const</span> <span class="nx">end</span> <span class="o">=</span> <span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
        
        <span class="k">this</span><span class="p">.</span><span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
          <span class="na">timestamp</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">(),</span>
          <span class="na">responseTime</span><span class="p">:</span> <span class="nx">end</span> <span class="o">-</span> <span class="nx">start</span><span class="p">,</span>
          <span class="na">success</span><span class="p">:</span> <span class="nx">response</span><span class="p">.</span><span class="nx">ok</span>
        <span class="p">});</span>
      <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">end</span> <span class="o">=</span> <span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
          <span class="na">timestamp</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">(),</span>
          <span class="na">responseTime</span><span class="p">:</span> <span class="nx">end</span> <span class="o">-</span> <span class="nx">start</span><span class="p">,</span>
          <span class="na">success</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
          <span class="na">error</span><span class="p">:</span> <span class="nx">error</span> <span class="k">instanceof</span> <span class="nb">Error</span> <span class="p">?</span> <span class="nx">error</span><span class="p">.</span><span class="nx">message</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">Unknown error</span><span class="dl">'</span>
        <span class="p">});</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// Calculate results</span>
  <span class="k">private</span> <span class="nx">calculateResults</span><span class="p">():</span> <span class="nx">LoadTestResult</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">totalRequests</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">results</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">successfulRequests</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">results</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">r</span> <span class="o">=&gt;</span> <span class="nx">r</span><span class="p">.</span><span class="nx">success</span><span class="p">).</span><span class="nx">length</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">failedRequests</span> <span class="o">=</span> <span class="nx">totalRequests</span> <span class="o">-</span> <span class="nx">successfulRequests</span><span class="p">;</span>

    <span class="kd">const</span> <span class="nx">responseTimes</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">results</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">r</span> <span class="o">=&gt;</span> <span class="nx">r</span><span class="p">.</span><span class="nx">responseTime</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">sortedResponseTimes</span> <span class="o">=</span> <span class="nx">responseTimes</span><span class="p">.</span><span class="nx">sort</span><span class="p">((</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">a</span> <span class="o">-</span> <span class="nx">b</span><span class="p">);</span>

    <span class="kd">const</span> <span class="nx">averageResponseTime</span> <span class="o">=</span> <span class="nx">responseTimes</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">sum</span><span class="p">,</span> <span class="nx">time</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">sum</span> <span class="o">+</span> <span class="nx">time</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">/</span> <span class="nx">totalRequests</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">minResponseTime</span> <span class="o">=</span> <span class="nx">sortedResponseTimes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">maxResponseTime</span> <span class="o">=</span> <span class="nx">sortedResponseTimes</span><span class="p">[</span><span class="nx">sortedResponseTimes</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">p95ResponseTime</span> <span class="o">=</span> <span class="nx">sortedResponseTimes</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">sortedResponseTimes</span><span class="p">.</span><span class="nx">length</span> <span class="o">*</span> <span class="mf">0.95</span><span class="p">)]</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">p99ResponseTime</span> <span class="o">=</span> <span class="nx">sortedResponseTimes</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">sortedResponseTimes</span><span class="p">.</span><span class="nx">length</span> <span class="o">*</span> <span class="mf">0.99</span><span class="p">)]</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>

    <span class="kd">const</span> <span class="nx">testDuration</span> <span class="o">=</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">results</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">results</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]?.</span><span class="nx">timestamp</span> <span class="o">||</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">results</span><span class="p">[</span><span class="mi">0</span><span class="p">]?.</span><span class="nx">timestamp</span> <span class="o">||</span> <span class="mi">0</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">requestsPerSecond</span> <span class="o">=</span> <span class="nx">totalRequests</span> <span class="o">/</span> <span class="p">(</span><span class="nx">testDuration</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">);</span>

    <span class="c1">// Count errors</span>
    <span class="kd">const</span> <span class="nx">errorCounts</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Map</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="kr">number</span><span class="o">&gt;</span><span class="p">();</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">result</span> <span class="k">of</span> <span class="k">this</span><span class="p">.</span><span class="nx">results</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">result</span><span class="p">.</span><span class="nx">success</span> <span class="o">&amp;&amp;</span> <span class="nx">result</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">errorCounts</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">error</span><span class="p">,</span> <span class="p">(</span><span class="nx">errorCounts</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span> <span class="o">||</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">const</span> <span class="nx">errors</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">errorCounts</span><span class="p">.</span><span class="nx">entries</span><span class="p">()).</span><span class="nx">map</span><span class="p">(([</span><span class="nx">error</span><span class="p">,</span> <span class="nx">count</span><span class="p">])</span> <span class="o">=&gt;</span> <span class="p">({</span> <span class="nx">error</span><span class="p">,</span> <span class="nx">count</span> <span class="p">}));</span>

    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">totalRequests</span><span class="p">,</span>
      <span class="nx">successfulRequests</span><span class="p">,</span>
      <span class="nx">failedRequests</span><span class="p">,</span>
      <span class="nx">averageResponseTime</span><span class="p">,</span>
      <span class="nx">minResponseTime</span><span class="p">,</span>
      <span class="nx">maxResponseTime</span><span class="p">,</span>
      <span class="nx">p95ResponseTime</span><span class="p">,</span>
      <span class="nx">p99ResponseTime</span><span class="p">,</span>
      <span class="nx">requestsPerSecond</span><span class="p">,</span>
      <span class="nx">errors</span>
    <span class="p">};</span>
  <span class="p">}</span>

  <span class="c1">// Delay utility</span>
  <span class="k">private</span> <span class="nx">delay</span><span class="p">(</span><span class="nx">ms</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span> <span class="o">=&gt;</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">ms</span><span class="p">));</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Usage</span>
<span class="kd">const</span> <span class="nx">loadTester</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">LoadTester</span><span class="p">();</span>

<span class="kd">const</span> <span class="nx">config</span><span class="p">:</span> <span class="nx">LoadTestConfig</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">concurrency</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="na">duration</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span> <span class="c1">// 60 seconds</span>
  <span class="na">rampUp</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="c1">// 10 seconds</span>
  <span class="na">target</span><span class="p">:</span> <span class="dl">'</span><span class="s1">https://api.example.com/users</span><span class="dl">'</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">requestFn</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://api.example.com/users</span><span class="dl">'</span><span class="p">);</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">loadTester</span><span class="p">.</span><span class="nx">runLoadTest</span><span class="p">(</span><span class="nx">config</span><span class="p">,</span> <span class="nx">requestFn</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Load test results:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">result</span><span class="p">);</span>
</code></pre></div></div>

<hr />

<h2 id="-best-practices">✅ <strong>Best Practices</strong></h2>

<h3 id="1-monitor-key-metrics"><strong>1. Monitor Key Metrics</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ✅ Good: Monitor key metrics</span>
<span class="kd">const</span> <span class="nx">monitor</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PerformanceMonitor</span><span class="p">();</span>

<span class="c1">// Monitor critical functions</span>
<span class="nx">monitor</span><span class="p">.</span><span class="nx">measureFunction</span><span class="p">(</span><span class="dl">'</span><span class="s1">userLogin</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Login logic</span>
<span class="p">});</span>

<span class="nx">monitor</span><span class="p">.</span><span class="nx">measureAsyncFunction</span><span class="p">(</span><span class="dl">'</span><span class="s1">dataFetch</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// API call</span>
<span class="p">});</span>

<span class="c1">// ❌ Avoid: Not monitoring performance</span>
<span class="kd">const</span> <span class="nx">userLogin</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Login logic without monitoring</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="2-set-performance-budgets"><strong>2. Set Performance Budgets</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ✅ Good: Set performance budgets</span>
<span class="kd">const</span> <span class="nx">budgetMonitor</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PerformanceBudgetMonitor</span><span class="p">();</span>
<span class="nx">budgetMonitor</span><span class="p">.</span><span class="nx">addBudget</span><span class="p">(</span><span class="dl">'</span><span class="s1">pageLoadTime</span><span class="dl">'</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="dl">'</span><span class="s1">ms</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">budgetMonitor</span><span class="p">.</span><span class="nx">addBudget</span><span class="p">(</span><span class="dl">'</span><span class="s1">bundleSize</span><span class="dl">'</span><span class="p">,</span> <span class="mi">500000</span><span class="p">,</span> <span class="dl">'</span><span class="s1">bytes</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// ❌ Avoid: No performance budgets</span>
<span class="c1">// No performance constraints</span>
</code></pre></div></div>

<h3 id="3-use-profiling-tools"><strong>3. Use Profiling Tools</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ✅ Good: Use profiling tools</span>
<span class="kd">const</span> <span class="nx">profiler</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Profiler</span><span class="p">();</span>
<span class="nx">profiler</span><span class="p">.</span><span class="nx">startProfile</span><span class="p">(</span><span class="dl">'</span><span class="s1">expensiveOperation</span><span class="dl">'</span><span class="p">);</span>
<span class="c1">// Expensive operation</span>
<span class="nx">profiler</span><span class="p">.</span><span class="nx">endProfile</span><span class="p">(</span><span class="dl">'</span><span class="s1">expensiveOperation</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// ❌ Avoid: No profiling</span>
<span class="c1">// Expensive operation without profiling</span>
</code></pre></div></div>

<h3 id="4-monitor-memory-usage"><strong>4. Monitor Memory Usage</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ✅ Good: Monitor memory usage</span>
<span class="kd">const</span> <span class="nx">memoryMonitor</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MemoryMonitor</span><span class="p">();</span>
<span class="nx">memoryMonitor</span><span class="p">.</span><span class="nx">takeSnapshot</span><span class="p">();</span>
<span class="c1">// Check for memory leaks</span>
<span class="kd">const</span> <span class="nx">leakInfo</span> <span class="o">=</span> <span class="nx">memoryMonitor</span><span class="p">.</span><span class="nx">detectMemoryLeaks</span><span class="p">();</span>

<span class="c1">// ❌ Avoid: Ignoring memory usage</span>
<span class="c1">// No memory monitoring</span>
</code></pre></div></div>

<hr />

<h2 id="-common-interview-questions">❓ <strong>Common Interview Questions</strong></h2>

<h3 id="1-what-are-the-key-performance-metrics-to-monitor"><strong>1. What are the key performance metrics to monitor?</strong></h3>

<p><strong>Answer:</strong></p>
<ul>
  <li><strong>Load time</strong>: Time to load and render page</li>
  <li><strong>First Contentful Paint</strong>: Time to first contentful paint</li>
  <li><strong>Largest Contentful Paint</strong>: Time to largest contentful paint</li>
  <li><strong>First Input Delay</strong>: Time to first input response</li>
  <li><strong>Cumulative Layout Shift</strong>: Visual stability metric</li>
</ul>

<h3 id="2-how-do-you-measure-performance-in-typescript-applications"><strong>2. How do you measure performance in TypeScript applications?</strong></h3>

<p><strong>Answer:</strong></p>
<ul>
  <li>Use Web Performance API for browser metrics</li>
  <li>Use Node.js performance hooks for server metrics</li>
  <li>Implement custom performance monitoring</li>
  <li>Use profiling tools like Chrome DevTools</li>
</ul>

<h3 id="3-whats-the-difference-between-performance-monitoring-and-profiling"><strong>3. What’s the difference between performance monitoring and profiling?</strong></h3>

<p><strong>Answer:</strong></p>
<ul>
  <li><strong>Performance monitoring</strong>: Continuous measurement of key metrics</li>
  <li><strong>Profiling</strong>: Detailed analysis of code execution</li>
  <li><strong>Monitoring</strong>: Real-time performance tracking</li>
  <li><strong>Profiling</strong>: Deep dive into performance bottlenecks</li>
</ul>

<h3 id="4-how-do-you-set-up-performance-budgets"><strong>4. How do you set up performance budgets?</strong></h3>

<p><strong>Answer:</strong></p>
<ul>
  <li>Define thresholds for key metrics</li>
  <li>Monitor bundle size, load time, API response time</li>
  <li>Set up alerts when budgets are exceeded</li>
  <li>Use tools to enforce budgets in CI/CD</li>
</ul>

<h3 id="5-what-are-the-benefits-of-performance-monitoring"><strong>5. What are the benefits of performance monitoring?</strong></h3>

<p><strong>Answer:</strong></p>
<ul>
  <li><strong>Early detection</strong>: Identify performance issues early</li>
  <li><strong>User experience</strong>: Ensure good user experience</li>
  <li><strong>Optimization</strong>: Guide performance optimization efforts</li>
  <li><strong>Business impact</strong>: Performance affects user retention and conversion</li>
</ul>

<hr />

<h2 id="-navigation">🧭 Navigation</h2>

<div class="navigation">
  <a href="03-Code-Quality-Linting.md" class="nav-button">← Previous: Code Quality &amp; Linting</a>
  <a href="../07-TypeScript-Libraries-Ecosystem/01-Popular-TypeScript-Libraries.md" class="nav-button">Next: Popular TypeScript Libraries →</a>
</div>

<p><em>Last updated: December 2025</em></p>

        </main>
        
        <footer style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #ecf0f1; color: #666; text-align: center;">
            <p>Interview Prep Documentation - Built with Jekyll</p>
        </footer>
    </div>
</body>
</html>
