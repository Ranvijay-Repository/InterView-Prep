<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎭 Discriminated Unions - Interview Prep Documentation</title>
    <meta name="description" content="Comprehensive guides for JavaScript, TypeScript, and React Native interview preparation">
    
    <!-- GitHub Pages compatible styling -->
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
        }
        
        .container {
            max-width: 100%;
        }
        
        h1, h2, h3, h4, h5, h6 {
            color: #2c3e50;
            margin-top: 2em;
            margin-bottom: 1em;
        }
        
        h1 {
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        
        h2 {
            border-bottom: 1px solid #ecf0f1;
            padding-bottom: 5px;
        }
        
        code {
            background-color: #f8f9fa;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9em;
        }
        
        pre {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            border-left: 4px solid #3498db;
        }
        
        pre code {
            background-color: transparent;
            padding: 0;
        }
        
        blockquote {
            border-left: 4px solid #3498db;
            margin: 0;
            padding-left: 20px;
            color: #666;
            font-style: italic;
        }
        
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 1em 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 8px 12px;
            text-align: left;
        }
        
        th {
            background-color: #f8f9fa;
            font-weight: bold;
        }
        
        tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        
        .navigation {
            background-color: #2c3e50;
            color: white;
            padding: 10px 0;
            margin-bottom: 20px;
        }
        
        .navigation a {
            color: white;
            text-decoration: none;
            margin-right: 20px;
        }
        
        .navigation a:hover {
            text-decoration: underline;
        }
        
        .breadcrumb {
            margin-bottom: 20px;
            color: #666;
        }
        
        .breadcrumb a {
            color: #3498db;
            text-decoration: none;
        }
        
        .breadcrumb a:hover {
            text-decoration: underline;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            h2 {
                font-size: 1.4em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <nav class="navigation">
            <a href="/">Home</a>
            <a href="/Javascript/">JavaScript</a>
            <a href="/TypeScript/">TypeScript</a>
            <a href="/React-Native/">React Native</a>
        </nav>
        
        
        
        <main>
            <h1 id="-discriminated-unions">🎭 <strong>Discriminated Unions</strong></h1>

<blockquote>
  <p><strong>Complete guide to TypeScript discriminated unions, pattern matching, and advanced union type techniques</strong></p>
</blockquote>

<link rel="stylesheet" href="../../common-styles.css" />

<hr />

<h2 id="-table-of-contents">📚 <strong>Table of Contents</strong></h2>

<ul>
  <li><a href="#discriminated-unions-overview">Discriminated Unions Overview</a></li>
  <li><a href="#basic-discriminated-unions">Basic Discriminated Unions</a></li>
  <li><a href="#advanced-patterns">Advanced Patterns</a></li>
  <li><a href="#pattern-matching">Pattern Matching</a></li>
  <li><a href="#real-world-examples">Real-World Examples</a></li>
  <li><a href="#best-practices">Best Practices</a></li>
  <li><a href="#common-interview-questions">Common Interview Questions</a></li>
</ul>

<hr />

<h2 id="-discriminated-unions-overview">🎯 <strong>Discriminated Unions Overview</strong></h2>

<p>Discriminated unions are a powerful TypeScript feature that combines union types with a common discriminator property for type safety.</p>

<h3 id="what-are-discriminated-unions"><strong>What are Discriminated Unions?</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Discriminated unions combine union types with a discriminator</span>
<span class="kd">const</span> <span class="nx">discriminatedUnions</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">purpose</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Type-safe union types with discrimination</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">discriminator</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Common property that identifies the type</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">safety</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Compile-time type safety</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">exhaustiveness</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Exhaustive pattern matching</span><span class="dl">"</span>
<span class="p">};</span>

<span class="c1">// Basic discriminated union</span>
<span class="kr">interface</span> <span class="nx">LoadingState</span> <span class="p">{</span>
  <span class="nl">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">loading</span><span class="dl">'</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">SuccessState</span> <span class="p">{</span>
  <span class="nl">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">data</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">ErrorState</span> <span class="p">{</span>
  <span class="nl">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">error</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">type</span> <span class="nx">AppState</span> <span class="o">=</span> <span class="nx">LoadingState</span> <span class="o">|</span> <span class="nx">SuccessState</span> <span class="o">|</span> <span class="nx">ErrorState</span><span class="p">;</span>

<span class="c1">// The 'status' property is the discriminator</span>
<span class="kd">function</span> <span class="nx">handleState</span><span class="p">(</span><span class="nx">state</span><span class="p">:</span> <span class="nx">AppState</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">status</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">loading</span><span class="dl">'</span><span class="p">:</span>
      <span class="c1">// state is LoadingState</span>
      <span class="k">return</span> <span class="dl">'</span><span class="s1">Loading...</span><span class="dl">'</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">:</span>
      <span class="c1">// state is SuccessState</span>
      <span class="k">return</span> <span class="s2">`Data: </span><span class="p">${</span><span class="nx">state</span><span class="p">.</span><span class="nx">data</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">:</span>
      <span class="c1">// state is ErrorState</span>
      <span class="k">return</span> <span class="s2">`Error: </span><span class="p">${</span><span class="nx">state</span><span class="p">.</span><span class="nx">error</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="benefits-of-discriminated-unions"><strong>Benefits of Discriminated Unions</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Benefits of discriminated unions</span>
<span class="kd">const</span> <span class="nx">benefits</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">typeSafety</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Compile-time type safety</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">exhaustiveness</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Exhaustive pattern matching</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">intellisense</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Better IDE support</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">refactoring</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Safer refactoring</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">debugging</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Easier debugging</span><span class="dl">"</span>
<span class="p">};</span>

<span class="c1">// Without discriminated unions</span>
<span class="kd">type</span> <span class="nx">BadState</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">data</span><span class="p">?:</span> <span class="kr">any</span><span class="p">;</span> <span class="nl">error</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span> <span class="nl">loading</span><span class="p">?:</span> <span class="nx">boolean</span> <span class="p">};</span>

<span class="kd">function</span> <span class="nx">handleBadState</span><span class="p">(</span><span class="nx">state</span><span class="p">:</span> <span class="nx">BadState</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">loading</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="dl">'</span><span class="s1">Loading...</span><span class="dl">'</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s2">`Data: </span><span class="p">${</span><span class="nx">state</span><span class="p">.</span><span class="nx">data</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s2">`Error: </span><span class="p">${</span><span class="nx">state</span><span class="p">.</span><span class="nx">error</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="c1">// What if multiple properties are true?</span>
<span class="p">}</span>

<span class="c1">// With discriminated unions</span>
<span class="kd">type</span> <span class="nx">GoodState</span> <span class="o">=</span> <span class="nx">LoadingState</span> <span class="o">|</span> <span class="nx">SuccessState</span> <span class="o">|</span> <span class="nx">ErrorState</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">handleGoodState</span><span class="p">(</span><span class="nx">state</span><span class="p">:</span> <span class="nx">GoodState</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">status</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">loading</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="dl">'</span><span class="s1">Loading...</span><span class="dl">'</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Data: </span><span class="p">${</span><span class="nx">state</span><span class="p">.</span><span class="nx">data</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Error: </span><span class="p">${</span><span class="nx">state</span><span class="p">.</span><span class="nx">error</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />

<h2 id="-basic-discriminated-unions">🔧 <strong>Basic Discriminated Unions</strong></h2>

<h3 id="simple-state-management"><strong>Simple State Management</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Simple state management with discriminated unions</span>
<span class="kr">interface</span> <span class="nx">IdleState</span> <span class="p">{</span>
  <span class="nl">state</span><span class="p">:</span> <span class="dl">'</span><span class="s1">idle</span><span class="dl">'</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">LoadingState</span> <span class="p">{</span>
  <span class="nl">state</span><span class="p">:</span> <span class="dl">'</span><span class="s1">loading</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">progress</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">SuccessState</span> <span class="p">{</span>
  <span class="nl">state</span><span class="p">:</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">result</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">ErrorState</span> <span class="p">{</span>
  <span class="nl">state</span><span class="p">:</span> <span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">message</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">type</span> <span class="nx">AsyncState</span> <span class="o">=</span> <span class="nx">IdleState</span> <span class="o">|</span> <span class="nx">LoadingState</span> <span class="o">|</span> <span class="nx">SuccessState</span> <span class="o">|</span> <span class="nx">ErrorState</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">handleAsyncState</span><span class="p">(</span><span class="nx">state</span><span class="p">:</span> <span class="nx">AsyncState</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">idle</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="dl">'</span><span class="s1">Ready to start</span><span class="dl">'</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">loading</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Loading... </span><span class="p">${</span><span class="nx">state</span><span class="p">.</span><span class="nx">progress</span><span class="p">}</span><span class="s2">%`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Success: </span><span class="p">${</span><span class="nx">state</span><span class="p">.</span><span class="nx">result</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Error: </span><span class="p">${</span><span class="nx">state</span><span class="p">.</span><span class="nx">message</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="api-response-handling"><strong>API Response Handling</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// API response handling with discriminated unions</span>
<span class="kr">interface</span> <span class="nx">ApiLoadingResponse</span> <span class="p">{</span>
  <span class="nl">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">loading</span><span class="dl">'</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">ApiSuccessResponse</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="na">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">data</span><span class="p">:</span> <span class="nx">T</span><span class="p">;</span>
  <span class="nl">timestamp</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">ApiErrorResponse</span> <span class="p">{</span>
  <span class="nl">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">error</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">code</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">type</span> <span class="nx">ApiResponse</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">ApiLoadingResponse</span> <span class="o">|</span> <span class="nx">ApiSuccessResponse</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="o">|</span> <span class="nx">ApiErrorResponse</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">handleApiResponse</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">response</span><span class="p">:</span> <span class="nx">ApiResponse</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">loading</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="dl">'</span><span class="s1">Loading...</span><span class="dl">'</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Data: </span><span class="p">${</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">}</span><span class="s2"> (</span><span class="p">${</span><span class="nx">response</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">}</span><span class="s2">)`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Error </span><span class="p">${</span><span class="nx">response</span><span class="p">.</span><span class="nx">code</span><span class="p">}</span><span class="s2">: </span><span class="p">${</span><span class="nx">response</span><span class="p">.</span><span class="nx">error</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Usage</span>
<span class="kd">const</span> <span class="nx">userResponse</span><span class="p">:</span> <span class="nx">ApiResponse</span><span class="o">&lt;</span><span class="nx">User</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">data</span><span class="p">:</span> <span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">John</span><span class="dl">'</span> <span class="p">},</span>
  <span class="na">timestamp</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="form-state-management"><strong>Form State Management</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Form state management with discriminated unions</span>
<span class="kr">interface</span> <span class="nx">FormIdleState</span> <span class="p">{</span>
  <span class="nl">state</span><span class="p">:</span> <span class="dl">'</span><span class="s1">idle</span><span class="dl">'</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">FormValidatingState</span> <span class="p">{</span>
  <span class="nl">state</span><span class="p">:</span> <span class="dl">'</span><span class="s1">validating</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">field</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">FormValidState</span> <span class="p">{</span>
  <span class="nl">state</span><span class="p">:</span> <span class="dl">'</span><span class="s1">valid</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">data</span><span class="p">:</span> <span class="nx">FormData</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">FormInvalidState</span> <span class="p">{</span>
  <span class="nl">state</span><span class="p">:</span> <span class="dl">'</span><span class="s1">invalid</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">errors</span><span class="p">:</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="kr">string</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">FormSubmittingState</span> <span class="p">{</span>
  <span class="nl">state</span><span class="p">:</span> <span class="dl">'</span><span class="s1">submitting</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">data</span><span class="p">:</span> <span class="nx">FormData</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">FormSubmittedState</span> <span class="p">{</span>
  <span class="nl">state</span><span class="p">:</span> <span class="dl">'</span><span class="s1">submitted</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">result</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">type</span> <span class="nx">FormState</span> <span class="o">=</span> 
  <span class="o">|</span> <span class="nx">FormIdleState</span> 
  <span class="o">|</span> <span class="nx">FormValidatingState</span> 
  <span class="o">|</span> <span class="nx">FormValidState</span> 
  <span class="o">|</span> <span class="nx">FormInvalidState</span> 
  <span class="o">|</span> <span class="nx">FormSubmittingState</span> 
  <span class="o">|</span> <span class="nx">FormSubmittedState</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">handleFormState</span><span class="p">(</span><span class="nx">state</span><span class="p">:</span> <span class="nx">FormState</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">idle</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="dl">'</span><span class="s1">Form is ready</span><span class="dl">'</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">validating</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Validating </span><span class="p">${</span><span class="nx">state</span><span class="p">.</span><span class="nx">field</span><span class="p">}</span><span class="s2">...`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">valid</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="dl">'</span><span class="s1">Form is valid</span><span class="dl">'</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">invalid</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Errors: </span><span class="p">${</span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">errors</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="dl">'</span><span class="s1">, </span><span class="dl">'</span><span class="p">)}</span><span class="s2">`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">submitting</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="dl">'</span><span class="s1">Submitting form...</span><span class="dl">'</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">submitted</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="dl">'</span><span class="s1">Form submitted successfully</span><span class="dl">'</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />

<h2 id="-advanced-patterns">🚀 <strong>Advanced Patterns</strong></h2>

<h3 id="nested-discriminated-unions"><strong>Nested Discriminated Unions</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Nested discriminated unions</span>
<span class="kr">interface</span> <span class="nx">BaseEvent</span> <span class="p">{</span>
  <span class="nl">type</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">timestamp</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">UserEvent</span> <span class="kd">extends</span> <span class="nx">BaseEvent</span> <span class="p">{</span>
  <span class="nl">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">user</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">userId</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">login</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">logout</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">update</span><span class="dl">'</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">SystemEvent</span> <span class="kd">extends</span> <span class="nx">BaseEvent</span> <span class="p">{</span>
  <span class="nl">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">system</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">level</span><span class="p">:</span> <span class="dl">'</span><span class="s1">info</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">warning</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">message</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">NetworkEvent</span> <span class="kd">extends</span> <span class="nx">BaseEvent</span> <span class="p">{</span>
  <span class="nl">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">network</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">PUT</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">DELETE</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">url</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">status</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">type</span> <span class="nx">Event</span> <span class="o">=</span> <span class="nx">UserEvent</span> <span class="o">|</span> <span class="nx">SystemEvent</span> <span class="o">|</span> <span class="nx">NetworkEvent</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">handleEvent</span><span class="p">(</span><span class="nx">event</span><span class="p">:</span> <span class="nx">Event</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="kd">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">user</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`User </span><span class="p">${</span><span class="nx">event</span><span class="p">.</span><span class="nx">userId</span><span class="p">}</span><span class="s2"> performed </span><span class="p">${</span><span class="nx">event</span><span class="p">.</span><span class="nx">action</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">system</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`System </span><span class="p">${</span><span class="nx">event</span><span class="p">.</span><span class="nx">level</span><span class="p">}</span><span class="s2">: </span><span class="p">${</span><span class="nx">event</span><span class="p">.</span><span class="nx">message</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">network</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`</span><span class="p">${</span><span class="nx">event</span><span class="p">.</span><span class="nx">method</span><span class="p">}</span><span class="s2"> </span><span class="p">${</span><span class="nx">event</span><span class="p">.</span><span class="nx">url</span><span class="p">}</span><span class="s2"> - </span><span class="p">${</span><span class="nx">event</span><span class="p">.</span><span class="nx">status</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="generic-discriminated-unions"><strong>Generic Discriminated Unions</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Generic discriminated unions</span>
<span class="kr">interface</span> <span class="nx">LoadingResult</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="na">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">loading</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">promise</span><span class="p">:</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">SuccessResult</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="na">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">data</span><span class="p">:</span> <span class="nx">T</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">ErrorResult</span> <span class="p">{</span>
  <span class="nl">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">error</span><span class="p">:</span> <span class="nb">Error</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">type</span> <span class="nx">Result</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">LoadingResult</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="o">|</span> <span class="nx">SuccessResult</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="o">|</span> <span class="nx">ErrorResult</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">handleResult</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">result</span><span class="p">:</span> <span class="nx">Result</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">status</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">loading</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="dl">'</span><span class="s1">Loading...</span><span class="dl">'</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Success: </span><span class="p">${</span><span class="nx">result</span><span class="p">.</span><span class="nx">data</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Error: </span><span class="p">${</span><span class="nx">result</span><span class="p">.</span><span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Usage with different types</span>
<span class="kd">const</span> <span class="nx">userResult</span><span class="p">:</span> <span class="nx">Result</span><span class="o">&lt;</span><span class="nx">User</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">data</span><span class="p">:</span> <span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">John</span><span class="dl">'</span> <span class="p">}</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">productResult</span><span class="p">:</span> <span class="nx">Result</span><span class="o">&lt;</span><span class="nx">Product</span><span class="p">[]</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">loading</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">promise</span><span class="p">:</span> <span class="nx">fetchProducts</span><span class="p">()</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="conditional-discriminated-unions"><strong>Conditional Discriminated Unions</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Conditional discriminated unions</span>
<span class="kr">interface</span> <span class="nx">BaseRequest</span> <span class="p">{</span>
  <span class="nl">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">timestamp</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">GetRequest</span> <span class="kd">extends</span> <span class="nx">BaseRequest</span> <span class="p">{</span>
  <span class="nl">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">url</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">PostRequest</span> <span class="kd">extends</span> <span class="nx">BaseRequest</span> <span class="p">{</span>
  <span class="nl">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">url</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">body</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">PutRequest</span> <span class="kd">extends</span> <span class="nx">BaseRequest</span> <span class="p">{</span>
  <span class="nl">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">PUT</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">url</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">body</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">DeleteRequest</span> <span class="kd">extends</span> <span class="nx">BaseRequest</span> <span class="p">{</span>
  <span class="nl">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">DELETE</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">url</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">type</span> <span class="nx">HttpRequest</span> <span class="o">=</span> <span class="nx">GetRequest</span> <span class="o">|</span> <span class="nx">PostRequest</span> <span class="o">|</span> <span class="nx">PutRequest</span> <span class="o">|</span> <span class="nx">DeleteRequest</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">handleRequest</span><span class="p">(</span><span class="nx">request</span><span class="p">:</span> <span class="nx">HttpRequest</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">method</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`GET </span><span class="p">${</span><span class="nx">request</span><span class="p">.</span><span class="nx">url</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`POST </span><span class="p">${</span><span class="nx">request</span><span class="p">.</span><span class="nx">url</span><span class="p">}</span><span class="s2"> with body: </span><span class="p">${</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">body</span><span class="p">)}</span><span class="s2">`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">PUT</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`PUT </span><span class="p">${</span><span class="nx">request</span><span class="p">.</span><span class="nx">url</span><span class="p">}</span><span class="s2"> with body: </span><span class="p">${</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">body</span><span class="p">)}</span><span class="s2">`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">DELETE</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`DELETE </span><span class="p">${</span><span class="nx">request</span><span class="p">.</span><span class="nx">url</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />

<h2 id="-pattern-matching">🎭 <strong>Pattern Matching</strong></h2>

<h3 id="exhaustive-pattern-matching"><strong>Exhaustive Pattern Matching</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Exhaustive pattern matching</span>
<span class="kr">interface</span> <span class="nx">RedState</span> <span class="p">{</span>
  <span class="nl">color</span><span class="p">:</span> <span class="dl">'</span><span class="s1">red</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">intensity</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">GreenState</span> <span class="p">{</span>
  <span class="nl">color</span><span class="p">:</span> <span class="dl">'</span><span class="s1">green</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">brightness</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">BlueState</span> <span class="p">{</span>
  <span class="nl">color</span><span class="p">:</span> <span class="dl">'</span><span class="s1">blue</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">saturation</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">type</span> <span class="nx">ColorState</span> <span class="o">=</span> <span class="nx">RedState</span> <span class="o">|</span> <span class="nx">GreenState</span> <span class="o">|</span> <span class="nx">BlueState</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">handleColorState</span><span class="p">(</span><span class="nx">state</span><span class="p">:</span> <span class="nx">ColorState</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">color</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">red</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Red with intensity </span><span class="p">${</span><span class="nx">state</span><span class="p">.</span><span class="nx">intensity</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">green</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Green with brightness </span><span class="p">${</span><span class="nx">state</span><span class="p">.</span><span class="nx">brightness</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">blue</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Blue with saturation </span><span class="p">${</span><span class="nx">state</span><span class="p">.</span><span class="nx">saturation</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
    <span class="nl">default</span><span class="p">:</span>
      <span class="c1">// Exhaustive check</span>
      <span class="kd">const</span> <span class="nx">_exhaustive</span><span class="p">:</span> <span class="nx">never</span> <span class="o">=</span> <span class="nx">state</span><span class="p">;</span>
      <span class="k">return</span> <span class="nx">_exhaustive</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="partial-pattern-matching"><strong>Partial Pattern Matching</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Partial pattern matching</span>
<span class="kr">interface</span> <span class="nx">PartialState</span> <span class="p">{</span>
  <span class="nl">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">partial</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">data</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
  <span class="nl">errors</span><span class="p">?:</span> <span class="kr">string</span><span class="p">[];</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">CompleteState</span> <span class="p">{</span>
  <span class="nl">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">complete</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">data</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
  <span class="nl">timestamp</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">type</span> <span class="nx">PartialOrComplete</span> <span class="o">=</span> <span class="nx">PartialState</span> <span class="o">|</span> <span class="nx">CompleteState</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">handlePartialOrComplete</span><span class="p">(</span><span class="nx">state</span><span class="p">:</span> <span class="nx">PartialOrComplete</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="kd">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">partial</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">errors</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">`Partial with errors: </span><span class="p">${</span><span class="nx">state</span><span class="p">.</span><span class="nx">errors</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="dl">'</span><span class="s1">, </span><span class="dl">'</span><span class="p">)}</span><span class="s2">`</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">return</span> <span class="dl">'</span><span class="s1">Partial without errors</span><span class="dl">'</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">complete</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Complete at </span><span class="p">${</span><span class="nx">state</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="recursive-pattern-matching"><strong>Recursive Pattern Matching</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Recursive pattern matching</span>
<span class="kr">interface</span> <span class="nx">LeafNode</span> <span class="p">{</span>
  <span class="nl">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">leaf</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">value</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">BranchNode</span> <span class="p">{</span>
  <span class="nl">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">branch</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">left</span><span class="p">:</span> <span class="nx">TreeNode</span><span class="p">;</span>
  <span class="nl">right</span><span class="p">:</span> <span class="nx">TreeNode</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">type</span> <span class="nx">TreeNode</span> <span class="o">=</span> <span class="nx">LeafNode</span> <span class="o">|</span> <span class="nx">BranchNode</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">evaluateTree</span><span class="p">(</span><span class="nx">node</span><span class="p">:</span> <span class="nx">TreeNode</span><span class="p">):</span> <span class="kr">number</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="kd">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">leaf</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="nx">node</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">branch</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="nx">evaluateTree</span><span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">left</span><span class="p">)</span> <span class="o">+</span> <span class="nx">evaluateTree</span><span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">right</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Usage</span>
<span class="kd">const</span> <span class="nx">tree</span><span class="p">:</span> <span class="nx">TreeNode</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">branch</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">left</span><span class="p">:</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">leaf</span><span class="dl">'</span><span class="p">,</span> <span class="na">value</span><span class="p">:</span> <span class="mi">5</span> <span class="p">},</span>
  <span class="na">right</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">branch</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">left</span><span class="p">:</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">leaf</span><span class="dl">'</span><span class="p">,</span> <span class="na">value</span><span class="p">:</span> <span class="mi">3</span> <span class="p">},</span>
    <span class="na">right</span><span class="p">:</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">leaf</span><span class="dl">'</span><span class="p">,</span> <span class="na">value</span><span class="p">:</span> <span class="mi">2</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<hr />

<h2 id="-real-world-examples">🌍 <strong>Real-World Examples</strong></h2>

<h3 id="redux-state-management"><strong>Redux State Management</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Redux state management with discriminated unions</span>
<span class="kr">interface</span> <span class="nx">InitialState</span> <span class="p">{</span>
  <span class="nl">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">initial</span><span class="dl">'</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">LoadingState</span> <span class="p">{</span>
  <span class="nl">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">loading</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">requestId</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">SuccessState</span> <span class="p">{</span>
  <span class="nl">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">data</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
  <span class="nl">timestamp</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">ErrorState</span> <span class="p">{</span>
  <span class="nl">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">error</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">retryCount</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">type</span> <span class="nx">ReduxState</span> <span class="o">=</span> <span class="nx">InitialState</span> <span class="o">|</span> <span class="nx">LoadingState</span> <span class="o">|</span> <span class="nx">SuccessState</span> <span class="o">|</span> <span class="nx">ErrorState</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">handleReduxState</span><span class="p">(</span><span class="nx">state</span><span class="p">:</span> <span class="nx">ReduxState</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">status</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">initial</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="dl">'</span><span class="s1">Initial state</span><span class="dl">'</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">loading</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Loading with request ID: </span><span class="p">${</span><span class="nx">state</span><span class="p">.</span><span class="nx">requestId</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Success at </span><span class="p">${</span><span class="nx">state</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Error (retry </span><span class="p">${</span><span class="nx">state</span><span class="p">.</span><span class="nx">retryCount</span><span class="p">}</span><span class="s2">): </span><span class="p">${</span><span class="nx">state</span><span class="p">.</span><span class="nx">error</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="websocket-message-handling"><strong>WebSocket Message Handling</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// WebSocket message handling with discriminated unions</span>
<span class="kr">interface</span> <span class="nx">ConnectMessage</span> <span class="p">{</span>
  <span class="nl">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">connect</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">userId</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">DisconnectMessage</span> <span class="p">{</span>
  <span class="nl">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">disconnect</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">reason</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">DataMessage</span> <span class="p">{</span>
  <span class="nl">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">data</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">payload</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">ErrorMessage</span> <span class="p">{</span>
  <span class="nl">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">code</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">message</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">type</span> <span class="nx">WebSocketMessage</span> <span class="o">=</span> <span class="nx">ConnectMessage</span> <span class="o">|</span> <span class="nx">DisconnectMessage</span> <span class="o">|</span> <span class="nx">DataMessage</span> <span class="o">|</span> <span class="nx">ErrorMessage</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">handleWebSocketMessage</span><span class="p">(</span><span class="nx">message</span><span class="p">:</span> <span class="nx">WebSocketMessage</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="kd">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">connect</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`User </span><span class="p">${</span><span class="nx">message</span><span class="p">.</span><span class="nx">userId</span><span class="p">}</span><span class="s2"> connected`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">disconnect</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Disconnected: </span><span class="p">${</span><span class="nx">message</span><span class="p">.</span><span class="nx">reason</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">data</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Data received: </span><span class="p">${</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">payload</span><span class="p">)}</span><span class="s2">`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Error </span><span class="p">${</span><span class="nx">message</span><span class="p">.</span><span class="nx">code</span><span class="p">}</span><span class="s2">: </span><span class="p">${</span><span class="nx">message</span><span class="p">.</span><span class="nx">message</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="file-system-operations"><strong>File System Operations</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// File system operations with discriminated unions</span>
<span class="kr">interface</span> <span class="nx">FileReadOperation</span> <span class="p">{</span>
  <span class="nl">operation</span><span class="p">:</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">path</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">encoding</span><span class="p">:</span> <span class="dl">'</span><span class="s1">utf8</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">binary</span><span class="dl">'</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">FileWriteOperation</span> <span class="p">{</span>
  <span class="nl">operation</span><span class="p">:</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">path</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">content</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">encoding</span><span class="p">:</span> <span class="dl">'</span><span class="s1">utf8</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">binary</span><span class="dl">'</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">FileDeleteOperation</span> <span class="p">{</span>
  <span class="nl">operation</span><span class="p">:</span> <span class="dl">'</span><span class="s1">delete</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">path</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">FileListOperation</span> <span class="p">{</span>
  <span class="nl">operation</span><span class="p">:</span> <span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">directory</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">recursive</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">type</span> <span class="nx">FileOperation</span> <span class="o">=</span> <span class="nx">FileReadOperation</span> <span class="o">|</span> <span class="nx">FileWriteOperation</span> <span class="o">|</span> <span class="nx">FileDeleteOperation</span> <span class="o">|</span> <span class="nx">FileListOperation</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">handleFileOperation</span><span class="p">(</span><span class="nx">operation</span><span class="p">:</span> <span class="nx">FileOperation</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">operation</span><span class="p">.</span><span class="nx">operation</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">read</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Reading </span><span class="p">${</span><span class="nx">operation</span><span class="p">.</span><span class="nx">path</span><span class="p">}</span><span class="s2"> with </span><span class="p">${</span><span class="nx">operation</span><span class="p">.</span><span class="nx">encoding</span><span class="p">}</span><span class="s2"> encoding`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">write</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Writing to </span><span class="p">${</span><span class="nx">operation</span><span class="p">.</span><span class="nx">path</span><span class="p">}</span><span class="s2"> with </span><span class="p">${</span><span class="nx">operation</span><span class="p">.</span><span class="nx">encoding</span><span class="p">}</span><span class="s2"> encoding`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">delete</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Deleting </span><span class="p">${</span><span class="nx">operation</span><span class="p">.</span><span class="nx">path</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="s2">`Listing </span><span class="p">${</span><span class="nx">operation</span><span class="p">.</span><span class="nx">directory</span><span class="p">}${</span><span class="nx">operation</span><span class="p">.</span><span class="nx">recursive</span> <span class="p">?</span> <span class="dl">'</span><span class="s1"> recursively</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">''</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />

<h2 id="-best-practices">✅ <strong>Best Practices</strong></h2>

<h3 id="1-use-descriptive-discriminators"><strong>1. Use Descriptive Discriminators</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ✅ Good: Descriptive discriminators</span>
<span class="kr">interface</span> <span class="nx">LoadingState</span> <span class="p">{</span>
  <span class="nl">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">loading</span><span class="dl">'</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">SuccessState</span> <span class="p">{</span>
  <span class="nl">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">data</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ❌ Avoid: Unclear discriminators</span>
<span class="kr">interface</span> <span class="nx">LoadingState</span> <span class="p">{</span>
  <span class="nl">state</span><span class="p">:</span> <span class="dl">'</span><span class="s1">loading</span><span class="dl">'</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">SuccessState</span> <span class="p">{</span>
  <span class="nl">state</span><span class="p">:</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">data</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="2-keep-discriminators-simple"><strong>2. Keep Discriminators Simple</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ✅ Good: Simple string discriminators</span>
<span class="kr">interface</span> <span class="nx">LoadingState</span> <span class="p">{</span>
  <span class="nl">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">loading</span><span class="dl">'</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">SuccessState</span> <span class="p">{</span>
  <span class="nl">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">data</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ❌ Avoid: Complex discriminators</span>
<span class="kr">interface</span> <span class="nx">LoadingState</span> <span class="p">{</span>
  <span class="nl">status</span><span class="p">:</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">loading</span><span class="dl">'</span><span class="p">;</span> <span class="nl">id</span><span class="p">:</span> <span class="kr">string</span> <span class="p">};</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">SuccessState</span> <span class="p">{</span>
  <span class="nl">status</span><span class="p">:</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">;</span> <span class="nl">id</span><span class="p">:</span> <span class="kr">string</span> <span class="p">};</span>
  <span class="nl">data</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="3-use-exhaustive-checks"><strong>3. Use Exhaustive Checks</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ✅ Good: Exhaustive checks</span>
<span class="kd">function</span> <span class="nx">handleState</span><span class="p">(</span><span class="nx">state</span><span class="p">:</span> <span class="nx">AppState</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">status</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">loading</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="dl">'</span><span class="s1">Loading...</span><span class="dl">'</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="dl">'</span><span class="s1">Success</span><span class="dl">'</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="dl">'</span><span class="s1">Error</span><span class="dl">'</span><span class="p">;</span>
    <span class="nl">default</span><span class="p">:</span>
      <span class="kd">const</span> <span class="nx">_exhaustive</span><span class="p">:</span> <span class="nx">never</span> <span class="o">=</span> <span class="nx">state</span><span class="p">;</span>
      <span class="k">return</span> <span class="nx">_exhaustive</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ❌ Avoid: Missing cases</span>
<span class="kd">function</span> <span class="nx">handleState</span><span class="p">(</span><span class="nx">state</span><span class="p">:</span> <span class="nx">AppState</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">status</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">loading</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="dl">'</span><span class="s1">Loading...</span><span class="dl">'</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="dl">'</span><span class="s1">Success</span><span class="dl">'</span><span class="p">;</span>
    <span class="c1">// Missing 'error' case</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="4-group-related-states"><strong>4. Group Related States</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ✅ Good: Group related states</span>
<span class="kr">interface</span> <span class="nx">LoadingState</span> <span class="p">{</span>
  <span class="nl">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">loading</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">progress</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">SuccessState</span> <span class="p">{</span>
  <span class="nl">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">data</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">ErrorState</span> <span class="p">{</span>
  <span class="nl">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">error</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">error</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">type</span> <span class="nx">AppState</span> <span class="o">=</span> <span class="nx">LoadingState</span> <span class="o">|</span> <span class="nx">SuccessState</span> <span class="o">|</span> <span class="nx">ErrorState</span><span class="p">;</span>

<span class="c1">// ❌ Avoid: Unrelated states</span>
<span class="kr">interface</span> <span class="nx">LoadingState</span> <span class="p">{</span>
  <span class="nl">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">loading</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">progress</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">UserState</span> <span class="p">{</span>
  <span class="nl">user</span><span class="p">:</span> <span class="nx">User</span><span class="p">;</span>
  <span class="nl">isLoggedIn</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">type</span> <span class="nx">AppState</span> <span class="o">=</span> <span class="nx">LoadingState</span> <span class="o">|</span> <span class="nx">UserState</span><span class="p">;</span>
</code></pre></div></div>

<hr />

<h2 id="-common-interview-questions">❓ <strong>Common Interview Questions</strong></h2>

<h3 id="1-what-are-discriminated-unions-in-typescript"><strong>1. What are discriminated unions in TypeScript?</strong></h3>

<p><strong>Answer:</strong>
Discriminated unions are union types with a common discriminator property that helps TypeScript narrow down the exact type. They provide type safety and enable exhaustive pattern matching.</p>

<h3 id="2-how-do-discriminated-unions-improve-type-safety"><strong>2. How do discriminated unions improve type safety?</strong></h3>

<p><strong>Answer:</strong></p>
<ul>
  <li><strong>Compile-time safety</strong>: TypeScript can narrow types based on the discriminator</li>
  <li><strong>Exhaustive checking</strong>: Ensures all cases are handled</li>
  <li><strong>Better IntelliSense</strong>: IDE can provide accurate autocomplete</li>
  <li><strong>Safer refactoring</strong>: Changes to union members are caught at compile time</li>
</ul>

<h3 id="3-whats-the-difference-between-union-types-and-discriminated-unions"><strong>3. What’s the difference between union types and discriminated unions?</strong></h3>

<p><strong>Answer:</strong></p>
<ul>
  <li><strong>Union Types</strong>: Simple combination of types without discrimination</li>
  <li><strong>Discriminated Unions</strong>: Union types with a common discriminator property</li>
  <li>Discriminated unions provide better type narrowing and exhaustiveness checking</li>
</ul>

<h3 id="4-how-do-you-handle-exhaustive-checks-in-discriminated-unions"><strong>4. How do you handle exhaustive checks in discriminated unions?</strong></h3>

<p><strong>Answer:</strong>
Use the <code class="language-plaintext highlighter-rouge">never</code> type in the default case to ensure all cases are handled:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">handleState</span><span class="p">(</span><span class="nx">state</span><span class="p">:</span> <span class="nx">AppState</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">status</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">loading</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="dl">'</span><span class="s1">Loading...</span><span class="dl">'</span><span class="p">;</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="dl">'</span><span class="s1">Success</span><span class="dl">'</span><span class="p">;</span>
    <span class="nl">default</span><span class="p">:</span>
      <span class="kd">const</span> <span class="nx">_exhaustive</span><span class="p">:</span> <span class="nx">never</span> <span class="o">=</span> <span class="nx">state</span><span class="p">;</span>
      <span class="k">return</span> <span class="nx">_exhaustive</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="5-when-should-you-use-discriminated-unions"><strong>5. When should you use discriminated unions?</strong></h3>

<p><strong>Answer:</strong></p>
<ul>
  <li><strong>State management</strong>: Representing different states of an application</li>
  <li><strong>API responses</strong>: Handling different response types</li>
  <li><strong>Event handling</strong>: Processing different types of events</li>
  <li><strong>Form validation</strong>: Representing different validation states</li>
  <li><strong>Any scenario</strong>: Where you need type-safe union types with discrimination</li>
</ul>

<hr />

<h2 id="-navigation">🧭 Navigation</h2>

<div class="navigation">
  <a href="01-Type-Guards-Narrowing.md" class="nav-button">← Previous: Type Guards &amp; Narrowing</a>
  <a href="03-Branded-Types-Opaque-Types.md" class="nav-button">Next: Branded Types &amp; Opaque Types →</a>
</div>

<p><em>Last updated: December 2025</em></p>

        </main>
        
        <footer style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #ecf0f1; color: #666; text-align: center;">
            <p>Interview Prep Documentation - Built with Jekyll</p>
        </footer>
    </div>
</body>
</html>
