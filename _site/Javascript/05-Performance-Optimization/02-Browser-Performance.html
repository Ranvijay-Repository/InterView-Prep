<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🔹 Browser Performance - Interview Prep Documentation</title>
    <meta name="description" content="Comprehensive guides for JavaScript, TypeScript, and React Native interview preparation">
    
    <!-- GitHub Pages compatible styling -->
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
        }
        
        .container {
            max-width: 100%;
        }
        
        h1, h2, h3, h4, h5, h6 {
            color: #2c3e50;
            margin-top: 2em;
            margin-bottom: 1em;
        }
        
        h1 {
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        
        h2 {
            border-bottom: 1px solid #ecf0f1;
            padding-bottom: 5px;
        }
        
        code {
            background-color: #f8f9fa;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9em;
        }
        
        pre {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            border-left: 4px solid #3498db;
        }
        
        pre code {
            background-color: transparent;
            padding: 0;
        }
        
        blockquote {
            border-left: 4px solid #3498db;
            margin: 0;
            padding-left: 20px;
            color: #666;
            font-style: italic;
        }
        
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 1em 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 8px 12px;
            text-align: left;
        }
        
        th {
            background-color: #f8f9fa;
            font-weight: bold;
        }
        
        tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        
        .navigation {
            background-color: #2c3e50;
            color: white;
            padding: 10px 0;
            margin-bottom: 20px;
        }
        
        .navigation a {
            color: white;
            text-decoration: none;
            margin-right: 20px;
        }
        
        .navigation a:hover {
            text-decoration: underline;
        }
        
        .breadcrumb {
            margin-bottom: 20px;
            color: #666;
        }
        
        .breadcrumb a {
            color: #3498db;
            text-decoration: none;
        }
        
        .breadcrumb a:hover {
            text-decoration: underline;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            h2 {
                font-size: 1.4em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <nav class="navigation">
            <a href="/">Home</a>
            <a href="/Javascript/">JavaScript</a>
            <a href="/TypeScript/">TypeScript</a>
            <a href="/React-Native/">React Native</a>
        </nav>
        
        
        
        <main>
            <h1 id="-browser-performance">🔹 Browser Performance</h1>

<blockquote>
  <p><strong>Comprehensive coverage of browser performance optimization: Critical rendering path optimization, Resource hints (preload, prefetch), and Service Worker caching strategies</strong></p>
</blockquote>

<link rel="stylesheet" href="../common-styles.css" />

<hr />

<h2 id="-table-of-contents">📚 Table of Contents</h2>

<ul>
  <li><a href="#browser-performance-overview">Browser Performance Overview</a></li>
  <li><a href="#critical-rendering-path-optimization">Critical Rendering Path Optimization</a></li>
  <li><a href="#resource-hints-preload-prefetch">Resource Hints (Preload, Prefetch)</a></li>
  <li><a href="#service-worker-caching-strategies">Service Worker Caching Strategies</a></li>
  <li><a href="#detailed-examples">Detailed Examples</a></li>
  <li><a href="#common-interview-questions">Common Interview Questions</a></li>
  <li><a href="#practice-exercises">Practice Exercises</a></li>
  <li><a href="#additional-resources">Additional Resources</a></li>
</ul>

<hr />

<h2 id="-browser-performance-overview">🎯 Browser Performance Overview</h2>

<p><strong>Browser Performance</strong> focuses on optimizing how browsers render web pages, load resources, and manage caching to provide the fastest possible user experience.</p>

<h3 id="why-browser-performance-matters">Why Browser Performance Matters:</h3>
<ul>
  <li><strong>User Experience</strong>: Faster page loads and interactions</li>
  <li><strong>SEO Rankings</strong>: Better Core Web Vitals scores</li>
  <li><strong>Conversion Rates</strong>: Faster sites convert better</li>
  <li><strong>Mobile Performance</strong>: Critical for mobile users</li>
  <li><strong>Competitive Advantage</strong>: Outperform competitor sites</li>
</ul>

<hr />

<h2 id="-critical-rendering-path-optimization">🚀 Critical Rendering Path Optimization</h2>

<p><strong>Critical Rendering Path Optimization</strong> involves optimizing the sequence of steps the browser takes to convert HTML, CSS, and JavaScript into pixels on the screen.</p>

<h3 id="why-critical-rendering-path-matters">Why Critical Rendering Path Matters:</h3>
<ul>
  <li><strong>First Paint</strong>: Faster initial visual feedback</li>
  <li><strong>First Contentful Paint</strong>: Quicker content display</li>
  <li><strong>Largest Contentful Paint</strong>: Faster main content loading</li>
  <li><strong>Time to Interactive</strong>: Quicker user interaction capability</li>
  <li><strong>Cumulative Layout Shift</strong>: Stable visual layout</li>
</ul>

<h3 id="ascii-diagram-critical-rendering-path">ASCII Diagram: Critical Rendering Path</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CRITICAL RENDERING PATH
┌─────────────────────────────────┐
│        HTML DOCUMENT            │
│  ┌─────────────────────────────┐ │
│  │ &lt;html&gt;                      │ │
│  │ &lt;head&gt;                      │ │
│  │   &lt;link rel="stylesheet"&gt;   │ │
│  │   &lt;script src="app.js"&gt;     │ │
│  │ &lt;/head&gt;                     │ │
│  │ &lt;body&gt;                      │ │
│  │   &lt;div&gt;Content&lt;/div&gt;        │ │
│  │ &lt;/body&gt;                     │ │
│  └─────────────────────────────┘ │
└─────────────────────────────────┘
                │
                ▼
        ┌───────────────┐
        │  DOM TREE     │
        │               │
        │  html         │
        │  ├── head     │
        │  └── body     │
        │      └── div  │
        └───────────────┘
                │
                ▼
        ┌───────────────┐
        │  CSSOM TREE   │
        │               │
        │  stylesheet   │
        │  ├── body     │
        │  └── div      │
        └───────────────┘
                │
                ▼
        ┌───────────────┐
        │  RENDER TREE  │
        │               │
        │  body         │
        │  └── div      │
        │      (styled) │
        └───────────────┘
                │
                ▼
        ┌───────────────┐
        │  LAYOUT       │
        │               │
        │  Calculate    │
        │  positions    │
        │  and sizes    │
        └───────────────┘
                │
                ▼
        ┌───────────────┐
        │  PAINT        │
        │               │
        │  Fill pixels  │
        │  on screen    │
        │  (GPU)        │
        └───────────────┘
</code></pre></div></div>

<h3 id="optimization-techniques">Optimization Techniques:</h3>
<ul>
  <li><strong>CSS Optimization</strong>: Inline critical CSS, defer non-critical</li>
  <li><strong>JavaScript Optimization</strong>: Defer non-critical scripts</li>
  <li><strong>HTML Optimization</strong>: Minimize DOM size and complexity</li>
  <li><strong>Resource Prioritization</strong>: Load critical resources first</li>
  <li><strong>Preloading</strong>: Anticipate resource needs</li>
</ul>

<hr />

<h2 id="-resource-hints-preload-prefetch">🔗 Resource Hints (Preload, Prefetch)</h2>

<p><strong>Resource Hints</strong> are directives that tell the browser about resources it will likely need, enabling proactive resource loading and optimization.</p>

<h3 id="why-resource-hints-matter">Why Resource Hints Matter:</h3>
<ul>
  <li><strong>Proactive Loading</strong>: Load resources before they’re needed</li>
  <li><strong>Performance Prediction</strong>: Browser can optimize loading</li>
  <li><strong>User Experience</strong>: Faster subsequent page loads</li>
  <li><strong>Bandwidth Optimization</strong>: Efficient resource prioritization</li>
  <li><strong>Caching Strategy</strong>: Better cache utilization</li>
</ul>

<h3 id="ascii-diagram-resource-hints-flow">ASCII Diagram: Resource Hints Flow</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RESOURCE HINTS FLOW
┌─────────────────────────────────┐
│        PAGE LOAD                │
│  ┌─────────────────────────────┐ │
│  │ HTML Parsing                │ │
│  │ Resource Discovery          │ │
│  │ Critical Path Resources    │ │
│  └─────────────────────────────┘ │
└─────────────────────────────────┘
                │
                ▼
        ┌───────────────┐
        │  PRELOAD      │
        │  (Critical)   │
        │               │
        │  High Priority│
        │  Immediate    │
        │  Loading      │
        └───────────────┘
                │
                ▼
        ┌───────────────┐
        │  PREFETCH     │
        │  (Likely)     │
        │               │
        │  Low Priority │
        │  Background   │
        │  Loading      │
        └───────────────┘
                │
                ▼
        ┌───────────────┐
        │  PRECONNECT   │
        │  (Connection) │
        │               │
        │  DNS + TCP    │
        │  + TLS Setup  │
        │  (No Data)    │
        └───────────────┘
                │
                ▼
        ┌───────────────┐
        │  PRERENDER    │
        │  (Full Page)  │
        │               │
        │  Background   │
        │  Page Render  │
        │  (Heavy)      │
        └───────────────┘
</code></pre></div></div>

<h3 id="resource-hint-types">Resource Hint Types:</h3>
<ul>
  <li><strong>preload</strong>: Critical resources for current page</li>
  <li><strong>prefetch</strong>: Likely resources for future navigation</li>
  <li><strong>preconnect</strong>: Establish early connections</li>
  <li><strong>prerender</strong>: Full page preparation</li>
  <li><strong>dns-prefetch</strong>: DNS resolution optimization</li>
</ul>

<hr />

<h2 id="-service-worker-caching-strategies">🔄 Service Worker Caching Strategies</h2>

<p><strong>Service Worker Caching Strategies</strong> involve implementing different caching approaches to optimize resource delivery and provide offline functionality.</p>

<h3 id="why-service-worker-caching-matters">Why Service Worker Caching Matters:</h3>
<ul>
  <li><strong>Offline Support</strong>: Applications work without internet</li>
  <li><strong>Performance</strong>: Faster resource loading from cache</li>
  <li><strong>User Experience</strong>: Consistent app performance</li>
  <li><strong>Bandwidth Savings</strong>: Reduce data usage</li>
  <li><strong>Reliability</strong>: Handle network failures gracefully</li>
</ul>

<h3 id="ascii-diagram-service-worker-caching">ASCII Diagram: Service Worker Caching</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SERVICE WORKER CACHING
┌─────────────────────────────────┐
│        BROWSER                  │
│  ┌─────────────────────────────┐ │
│  │ Page Request                │ │
│  │ Resource Request            │ │
│  │ API Request                 │ │
│  └─────────────────────────────┘ │
└─────────────────────────────────┘
                │
                ▼
        ┌───────────────┐
        │  SERVICE      │
        │  WORKER       │
        │               │
        │  Intercepts   │
        │  Requests     │
        │  Applies      │
        │  Strategy     │
        └───────────────┘
                │
                ▼
        ┌───────────────┐
        │  CACHE        │
        │  STRATEGIES   │
        │               │
        │  Cache First  │
        │  Network First│
        │  Stale While  │
        │  Revalidate   │
        │  Network Only │
        └───────────────┘
                │
                ▼
        ┌───────────────┐
        │  CACHE STORES │
        │               │
        │  Runtime      │
        │  Static       │
        │  Dynamic      │
        │  API          │
        └───────────────┘
                │
                ▼
        ┌───────────────┐
        │  RESPONSE     │
        │               │
        │  From Cache   │
        │  From Network │
        │  Fallback     │
        │  Error        │
        └───────────────┘
</code></pre></div></div>

<h3 id="caching-strategies">Caching Strategies:</h3>
<ul>
  <li><strong>Cache First</strong>: Serve from cache, fallback to network</li>
  <li><strong>Network First</strong>: Try network, fallback to cache</li>
  <li><strong>Stale While Revalidate</strong>: Serve stale, update in background</li>
  <li><strong>Network Only</strong>: Always use network</li>
  <li><strong>Cache Only</strong>: Always use cache</li>
</ul>

<hr />

<h2 id="-detailed-examples">💻 Detailed Examples</h2>

<h3 id="example-1-critical-rendering-path-optimization">Example 1: Critical Rendering Path Optimization</h3>
<div style="position: relative;">
<button onclick="copyCode(this)" class="copy-btn">📋 Copy</button>
<pre><code>// Critical Rendering Path optimization implementation
class CriticalRenderingPathOptimizer {
    constructor() {
        this.performanceMetrics = new Map();
        this.criticalCSS = '';
        this.nonCriticalCSS = '';
        this.setupPerformanceMonitoring();
    }
    
    setupPerformanceMonitoring() {
        // Monitor key performance metrics
        this.observePerformanceMetrics();
        this.observeLayoutShifts();
        this.observeFirstPaint();
    }
    
    observePerformanceMetrics() {
        // Monitor Core Web Vitals
        if ('PerformanceObserver' in window) {
            const observer = new PerformanceObserver((list) =&gt; {
                for (const entry of list.getEntries()) {
                    this.performanceMetrics.set(entry.name, entry);
                }
            });
            
            try {
                observer.observe({ entryTypes: ['measure', 'navigation', 'resource'] });
            } catch (e) {
                console.warn('PerformanceObserver not fully supported');
            }
        }
    }
    
    observeLayoutShifts() {
        // Monitor Cumulative Layout Shift (CLS)
        if ('PerformanceObserver' in window) {
            const observer = new PerformanceObserver((list) =&gt; {
                let clsValue = 0;
                for (const entry of list.getEntries()) {
                    if (!entry.hadRecentInput) {
                        clsValue += entry.value;
                    }
                }
                this.performanceMetrics.set('CLS', clsValue);
            });
            
            try {
                observer.observe({ entryTypes: ['layout-shift'] });
            } catch (e) {
                console.warn('Layout shift observer not supported');
            }
        }
    }
    
    observeFirstPaint() {
        // Monitor First Paint and First Contentful Paint
        if ('PerformanceObserver' in window) {
            const observer = new PerformanceObserver((list) =&gt; {
                for (const entry of list.getEntries()) {
                    this.performanceMetrics.set(entry.name, entry.startTime);
                }
            });
            
            try {
                observer.observe({ entryTypes: ['paint'] });
            } catch (e) {
                console.warn('Paint observer not supported');
            }
        }
    }
    
    // Inline critical CSS
    inlineCriticalCSS(criticalCSS) {
        performance.mark('critical-css-start');
        
        // Create style element for critical CSS
        const style = document.createElement('style');
        style.textContent = criticalCSS;
        document.head.appendChild(style);
        
        performance.mark('critical-css-end');
        performance.measure('critical-css-inline', 'critical-css-start', 'critical-css-end');
        
        this.criticalCSS = criticalCSS;
    }
    
    // Defer non-critical CSS
    deferNonCriticalCSS(cssUrl) {
        performance.mark('non-critical-css-start');
        
        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = cssUrl;
        link.media = 'print';
        link.onload = () =&gt; {
            link.media = 'all';
            performance.mark('non-critical-css-end');
            performance.measure('non-critical-css-load', 'non-critical-css-start', 'non-critical-css-end');
        };
        
        document.head.appendChild(link);
        this.nonCriticalCSS = cssUrl;
    }
    
    // Optimize JavaScript loading
    optimizeJavaScriptLoading() {
        performance.mark('js-optimization-start');
        
        // Defer non-critical JavaScript
        const scripts = document.querySelectorAll('script[data-defer]');
        scripts.forEach(script =&gt; {
            script.setAttribute('defer', '');
        });
        
        // Async load non-critical scripts
        const asyncScripts = document.querySelectorAll('script[data-async]');
        asyncScripts.forEach(script =&gt; {
            script.setAttribute('async', '');
        });
        
        performance.mark('js-optimization-end');
        performance.measure('js-optimization', 'js-optimization-start', 'js-optimization-end');
    }
    
    // Optimize images
    optimizeImages() {
        performance.mark('image-optimization-start');
        
        // Lazy load images
        const images = document.querySelectorAll('img[data-src]');
        const imageObserver = new IntersectionObserver((entries) =&gt; {
            entries.forEach(entry =&gt; {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    img.src = img.dataset.src;
                    img.classList.remove('lazy');
                    imageObserver.unobserve(img);
                }
            });
        });
        
        images.forEach(img =&gt; imageObserver.observe(img));
        
        // Use appropriate image formats
        const webpImages = document.querySelectorAll('img[data-webp]');
        webpImages.forEach(img =&gt; {
            if (this.supportsWebP()) {
                img.src = img.dataset.webp;
            }
        });
        
        performance.mark('image-optimization-end');
        performance.measure('image-optimization', 'image-optimization-start', 'image-optimization-end');
    }
    
    // Check WebP support
    supportsWebP() {
        const canvas = document.createElement('canvas');
        canvas.width = 1;
        canvas.height = 1;
        return canvas.toDataURL('image/webp').indexOf('data:image/webp') === 0;
    }
    
    // Optimize fonts
    optimizeFonts() {
        performance.mark('font-optimization-start');
        
        // Preload critical fonts
        const criticalFonts = document.querySelectorAll('link[rel="preload"][as="font"]');
        criticalFonts.forEach(font =&gt; {
            font.setAttribute('crossorigin', '');
        });
        
        // Use font-display: swap for better performance
        const fontLinks = document.querySelectorAll('link[rel="stylesheet"][href*="font"]');
        fontLinks.forEach(link =&gt; {
            if (link.href.includes('googleapis.com')) {
                link.href += '&amp;display=swap';
            }
        });
        
        performance.mark('font-optimization-end');
        performance.measure('font-optimization', 'font-optimization-start', 'font-optimization-end');
    }
    
    // Minimize DOM manipulation
    optimizeDOMManipulation() {
        performance.mark('dom-optimization-start');
        
        // Batch DOM updates
        const fragment = document.createDocumentFragment();
        const container = document.getElementById('dynamic-content');
        
        for (let i = 0; i &lt; 1000; i++) {
            const div = document.createElement('div');
            div.textContent = `Item ${i}`;
            div.className = 'item';
            fragment.appendChild(div);
        }
        
        container.appendChild(fragment);
        
        performance.mark('dom-optimization-end');
        performance.measure('dom-optimization', 'dom-optimization-start', 'dom-optimization-end');
    }
    
    // Optimize event handling
    optimizeEventHandling() {
        performance.mark('event-optimization-start');
        
        // Use event delegation
        const container = document.getElementById('event-container');
        container.addEventListener('click', (event) =&gt; {
            if (event.target.matches('.button')) {
                this.handleButtonClick(event.target);
            } else if (event.target.matches('.link')) {
                this.handleLinkClick(event.target);
            }
        });
        
        // Debounce scroll events
        let scrollTimeout;
        window.addEventListener('scroll', () =&gt; {
            clearTimeout(scrollTimeout);
            scrollTimeout = setTimeout(() =&gt; {
                this.handleScroll();
            }, 16); // ~60fps
        });
        
        performance.mark('event-optimization-end');
        performance.measure('event-optimization', 'event-optimization-start', 'event-optimization-end');
    }
    
    // Mock event handlers
    handleButtonClick(button) {
        console.log('Button clicked:', button.textContent);
    }
    
    handleLinkClick(link) {
        console.log('Link clicked:', link.href);
    }
    
    handleScroll() {
        // Handle scroll event
        console.log('Scroll position:', window.scrollY);
    }
    
    // Get performance metrics
    getPerformanceMetrics() {
        const metrics = {};
        
        // Core Web Vitals
        if (this.performanceMetrics.has('CLS')) {
            metrics.CLS = this.performanceMetrics.get('CLS');
        }
        
        if (this.performanceMetrics.has('first-paint')) {
            metrics.FP = this.performanceMetrics.get('first-paint');
        }
        
        if (this.performanceMetrics.has('first-contentful-paint')) {
            metrics.FCP = this.performanceMetrics.get('first-contentful-paint');
        }
        
        // Custom measures
        const measures = performance.getEntriesByType('measure');
        measures.forEach(measure =&gt; {
            metrics[measure.name] = measure.duration;
        });
        
        return metrics;
    }
    
    // Run all optimizations
    runAllOptimizations() {
        console.log('Running Critical Rendering Path optimizations...');
        
        // Inline critical CSS
        this.inlineCriticalCSS(`
            body { margin: 0; padding: 0; font-family: Arial, sans-serif; }
            .header { background: #333; color: white; padding: 1rem; }
            .content { padding: 2rem; }
            .item { margin: 0.5rem 0; padding: 0.5rem; border: 1px solid #ddd; }
        `);
        
        // Defer non-critical CSS
        this.deferNonCriticalCSS('/styles/non-critical.css');
        
        // Optimize JavaScript loading
        this.optimizeJavaScriptLoading();
        
        // Optimize images
        this.optimizeImages();
        
        // Optimize fonts
        this.optimizeFonts();
        
        // Optimize DOM manipulation
        this.optimizeDOMManipulation();
        
        // Optimize event handling
        this.optimizeEventHandling();
        
        console.log('All optimizations completed.');
    }
}

// Usage example
const crpOptimizer = new CriticalRenderingPathOptimizer();

// Run optimizations after DOM is ready
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () =&gt; {
        crpOptimizer.runAllOptimizations();
    });
} else {
    crpOptimizer.runAllOptimizations();
}

// Get performance metrics after a delay
setTimeout(() =&gt; {
    const metrics = crpOptimizer.getPerformanceMetrics();
    console.log('Performance Metrics:', metrics);
}, 3000);
</code></pre>
</div>

<h3 id="example-2-resource-hints-implementation">Example 2: Resource Hints Implementation</h3>
<div style="position: relative;">
<button onclick="copyCode(this)" class="copy-btn">📋 Copy</button>
<pre><code>// Resource hints implementation for performance optimization
class ResourceHintsManager {
    constructor() {
        this.hints = new Map();
        this.performanceMetrics = new Map();
        this.setupPerformanceMonitoring();
    }
    
    setupPerformanceMonitoring() {
        // Monitor resource loading performance
        if ('PerformanceObserver' in window) {
            const observer = new PerformanceObserver((list) =&gt; {
                for (const entry of list.getEntries()) {
                    if (entry.entryType === 'resource') {
                        this.performanceMetrics.set(entry.name, {
                            duration: entry.duration,
                            transferSize: entry.transferSize,
                            initiatorType: entry.initiatorType,
                            timestamp: entry.startTime
                        });
                    }
                }
            });
            
            try {
                observer.observe({ entryTypes: ['resource'] });
            } catch (e) {
                console.warn('Resource performance observer not supported');
            }
        }
    }
    
    // Preload critical resources
    preloadResource(url, options = {}) {
        const {
            as = 'script',
            crossorigin = false,
            type = null,
            media = null
        } = options;
        
        const link = document.createElement('link');
        link.rel = 'preload';
        link.href = url;
        link.as = as;
        
        if (crossorigin) {
            link.crossOrigin = 'anonymous';
        }
        
        if (type) {
            link.type = type;
        }
        
        if (media) {
            link.media = media;
        }
        
        // Track preloaded resources
        this.hints.set(url, {
            type: 'preload',
            as: as,
            timestamp: Date.now(),
            element: link
        });
        
        document.head.appendChild(link);
        
        // Monitor loading performance
        link.onload = () =&gt; {
            this.performanceMetrics.set(`preload-${url}`, {
                status: 'loaded',
                timestamp: Date.now()
            });
        };
        
        link.onerror = () =&gt; {
            this.performanceMetrics.set(`preload-${url}`, {
                status: 'error',
                timestamp: Date.now()
                error: 'Failed to preload resource'
            });
        };
        
        return link;
    }
    
    // Prefetch likely resources
    prefetchResource(url, options = {}) {
        const {
            crossorigin = false,
            type = null,
            media = null
        } = options;
        
        const link = document.createElement('link');
        link.rel = 'prefetch';
        link.href = url;
        
        if (crossorigin) {
            link.crossOrigin = 'anonymous';
        }
        
        if (type) {
            link.type = type;
        }
        
        if (media) {
            link.media = media;
        }
        
        // Track prefetched resources
        this.hints.set(url, {
            type: 'prefetch',
            timestamp: Date.now(),
            element: link
        });
        
        document.head.appendChild(link);
        
        return link;
    }
    
    // Preconnect to external domains
    preconnectDomain(domain, options = {}) {
        const {
            crossorigin = true,
            dns = true,
            tcp = true,
            tls = true
        } = options;
        
        const link = document.createElement('link');
        link.rel = 'preconnect';
        link.href = domain;
        
        if (crossorigin) {
            link.crossOrigin = 'anonymous';
        }
        
        // Track preconnect resources
        this.hints.set(domain, {
            type: 'preconnect',
            options: { dns, tcp, tls },
            timestamp: Date.now(),
            element: link
        });
        
        document.head.appendChild(link);
        
        return link;
    }
    
    // DNS prefetch for external domains
    dnsPrefetch(domain) {
        const link = document.createElement('link');
        link.rel = 'dns-prefetch';
        link.href = domain;
        
        // Track DNS prefetch resources
        this.hints.set(domain, {
            type: 'dns-prefetch',
            timestamp: Date.now(),
            element: link
        });
        
        document.head.appendChild(link);
        
        return link;
    }
    
    // Prerender full page
    prerenderPage(url) {
        const link = document.createElement('link');
        link.rel = 'prerender';
        link.href = url;
        
        // Track prerender resources
        this.hints.set(url, {
            type: 'prerender',
            timestamp: Date.now(),
            element: link
        });
        
        document.head.appendChild(link);
        
        return link;
    }
    
    // Module preload for ES modules
    preloadModule(url, options = {}) {
        const {
            crossorigin = false,
            type = 'module'
        } = options;
        
        const link = document.createElement('link');
        link.rel = 'modulepreload';
        link.href = url;
        
        if (crossorigin) {
            link.crossOrigin = 'anonymous';
        }
        
        if (type) {
            link.type = type;
        }
        
        // Track module preload resources
        this.hints.set(url, {
            type: 'modulepreload',
            timestamp: Date.now(),
            element: link
        });
        
        document.head.appendChild(link);
        
        return link;
    }
    
    // Intelligent resource hinting based on user behavior
    setupIntelligentHints() {
        // Preload critical CSS and fonts
        this.preloadResource('/styles/critical.css', { as: 'style' });
        this.preloadResource('/fonts/main.woff2', { as: 'font', crossorigin: true });
        
        // Preconnect to external domains
        this.preconnectDomain('https://api.example.com');
        this.preconnectDomain('https://cdn.example.com');
        
        // DNS prefetch for analytics and third-party services
        this.dnsPrefetch('https://www.google-analytics.com');
        this.dnsPrefetch('https://fonts.googleapis.com');
        
        // Prefetch likely navigation targets
        this.prefetchResource('/about');
        this.prefetchResource('/contact');
        
        // Module preload for main application
        this.preloadModule('/js/app.js', { crossorigin: true });
    }
    
    // Dynamic resource hinting based on user interactions
    setupDynamicHints() {
        // Prefetch resources when user hovers over navigation
        const navLinks = document.querySelectorAll('nav a');
        navLinks.forEach(link =&gt; {
            link.addEventListener('mouseenter', () =&gt; {
                const url = link.href;
                if (!this.hints.has(url)) {
                    this.prefetchResource(url);
                }
            });
        });
        
        // Preload images when they come into view
        const images = document.querySelectorAll('img[data-src]');
        const imageObserver = new IntersectionObserver((entries) =&gt; {
            entries.forEach(entry =&gt; {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    const src = img.dataset.src;
                    
                    if (src &amp;&amp; !this.hints.has(src)) {
                        this.preloadResource(src, { as: 'image' });
                    }
                }
            });
        });
        
        images.forEach(img =&gt; imageObserver.observe(img));
    }
    
    // Remove resource hints
    removeHint(url) {
        const hint = this.hints.get(url);
        if (hint &amp;&amp; hint.element) {
            hint.element.remove();
            this.hints.delete(url);
        }
    }
    
    // Clear all resource hints
    clearAllHints() {
        this.hints.forEach((hint, url) =&gt; {
            this.removeHint(url);
        });
    }
    
    // Get resource hint statistics
    getHintStatistics() {
        const stats = {
            total: this.hints.size,
            byType: {},
            performance: Array.from(this.performanceMetrics.values())
        };
        
        // Count by type
        this.hints.forEach((hint, url) =&gt; {
            const type = hint.type;
            stats.byType[type] = (stats.byType[type] || 0) + 1;
        });
        
        return stats;
    }
    
    // Monitor hint effectiveness
    monitorHintEffectiveness() {
        // Check if preloaded resources are actually used
        this.hints.forEach((hint, url) =&gt; {
            if (hint.type === 'preload') {
                // Monitor if the resource is loaded again
                const resourceEntries = performance.getEntriesByType('resource');
                const resource = resourceEntries.find(entry =&gt; entry.name === url);
                
                if (resource) {
                    this.performanceMetrics.set(`effectiveness-${url}`, {
                        wasPreloaded: true,
                        loadTime: resource.duration,
                        timestamp: Date.now()
                    });
                }
            }
        });
    }
}

// Usage example
const resourceHintsManager = new ResourceHintsManager();

// Setup intelligent resource hints
resourceHintsManager.setupIntelligentHints();

// Setup dynamic hints after DOM is ready
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () =&gt; {
        resourceHintsManager.setupDynamicHints();
    });
} else {
    resourceHintsManager.setupDynamicHints();
}

// Monitor hint effectiveness
setTimeout(() =&gt; {
    resourceHintsManager.monitorHintEffectiveness();
    const stats = resourceHintsManager.getHintStatistics();
    console.log('Resource Hints Statistics:', stats);
}, 5000);
</code></pre>
</div>

<hr />

<h2 id="-copy-code-functionality">📋 Copy Code Functionality</h2>

<script src="../common-scripts.js"></script>

<hr />

<h2 id="-navigation">🧭 Navigation</h2>

<div class="navigation">
    <a href="01-JavaScript-Performance.md" class="nav-link prev">← Previous: JavaScript Performance</a>
    <a href="03-Advanced-Optimization.md" class="nav-link next">Next: Advanced Optimization →</a>
</div>

<p><em>Last updated: December 2024</em></p>

        </main>
        
        <footer style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #ecf0f1; color: #666; text-align: center;">
            <p>Interview Prep Documentation - Built with Jekyll</p>
        </footer>
    </div>
</body>
</html>
