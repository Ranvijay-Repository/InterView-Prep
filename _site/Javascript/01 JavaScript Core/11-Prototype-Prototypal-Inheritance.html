<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🔗 Prototype &amp; Prototypal Inheritance - Interview Prep Documentation</title>
    <meta name="description" content="Comprehensive guides for JavaScript, TypeScript, and React Native interview preparation">
    
    <!-- GitHub Pages compatible styling -->
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
        }
        
        .container {
            max-width: 100%;
        }
        
        h1, h2, h3, h4, h5, h6 {
            color: #2c3e50;
            margin-top: 2em;
            margin-bottom: 1em;
        }
        
        h1 {
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        
        h2 {
            border-bottom: 1px solid #ecf0f1;
            padding-bottom: 5px;
        }
        
        code {
            background-color: #f8f9fa;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9em;
        }
        
        pre {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            border-left: 4px solid #3498db;
        }
        
        pre code {
            background-color: transparent;
            padding: 0;
        }
        
        blockquote {
            border-left: 4px solid #3498db;
            margin: 0;
            padding-left: 20px;
            color: #666;
            font-style: italic;
        }
        
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 1em 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 8px 12px;
            text-align: left;
        }
        
        th {
            background-color: #f8f9fa;
            font-weight: bold;
        }
        
        tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        
        .navigation {
            background-color: #2c3e50;
            color: white;
            padding: 10px 0;
            margin-bottom: 20px;
        }
        
        .navigation a {
            color: white;
            text-decoration: none;
            margin-right: 20px;
        }
        
        .navigation a:hover {
            text-decoration: underline;
        }
        
        .breadcrumb {
            margin-bottom: 20px;
            color: #666;
        }
        
        .breadcrumb a {
            color: #3498db;
            text-decoration: none;
        }
        
        .breadcrumb a:hover {
            text-decoration: underline;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            h2 {
                font-size: 1.4em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <nav class="navigation">
            <a href="/">Home</a>
            <a href="/Javascript/">JavaScript</a>
            <a href="/TypeScript/">TypeScript</a>
            <a href="/React-Native/">React Native</a>
        </nav>
        
        
        
        <main>
            <h1 id="-prototype--prototypal-inheritance">🔗 Prototype &amp; Prototypal Inheritance</h1>

<blockquote>
  <p><strong>Understanding JavaScript’s inheritance mechanism and how objects share behavior</strong></p>
</blockquote>

<link rel="stylesheet" href="../common-styles.css" />

<hr />

<h2 id="-table-of-contents">📋 Table of Contents</h2>

<ul>
  <li><a href="#what-is-prototypal-inheritance">What is Prototypal Inheritance?</a></li>
  <li><a href="#the-prototype-chain">The Prototype Chain</a></li>
  <li><a href="#prototype-vs-__proto__">Prototype vs <strong>proto</strong></a></li>
  <li><a href="#objectcreate">Object.create()</a></li>
  <li><a href="#constructor-functions">Constructor Functions</a></li>
  <li><a href="#es6-classes">ES6 Classes</a></li>
  <li><a href="#inheritance-patterns">Inheritance Patterns</a></li>
  <li><a href="#detailed-examples">Detailed Examples</a></li>
  <li><a href="#common-pitfalls">Common Pitfalls</a></li>
  <li><a href="#best-practices">Best Practices</a></li>
  <li><a href="#key-points">Key Points</a></li>
  <li><a href="#common-interview-questions">Common Interview Questions</a></li>
  <li><a href="#practice-exercises">Practice Exercises</a></li>
  <li><a href="#additional-resources">Additional Resources</a></li>
</ul>

<hr />

<h2 id="-what-is-prototypal-inheritance">🎯 What is Prototypal Inheritance?</h2>

<p><strong>Prototypal Inheritance</strong> is JavaScript’s mechanism for objects to inherit properties and methods from other objects. Unlike classical inheritance, JavaScript uses a prototype chain where objects can share behavior through a linked series of prototypes.</p>

<h3 id="why-understanding-this-matters">Why Understanding This Matters:</h3>
<ul>
  <li><strong>Object-Oriented Design</strong>: Implement inheritance patterns correctly</li>
  <li><strong>Performance</strong>: Understand property lookup mechanisms</li>
  <li><strong>Debugging</strong>: Know how to trace property access</li>
  <li><strong>Modern JavaScript</strong>: Understand how classes work under the hood</li>
  <li><strong>Library Development</strong>: Create reusable object hierarchies</li>
</ul>

<hr />

<h2 id="-the-prototype-chain">🔗 The Prototype Chain</h2>

<p>The prototype chain is a series of linked objects that JavaScript traverses when looking for properties.</p>

<h3 id="ascii-diagram-prototype-chain">ASCII Diagram: Prototype Chain</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>PROTOTYPE CHAIN STRUCTURE
┌─────────────────────────────────┐
│ myObject                        │
│ {                              │
│   name: "John",                │
│   age: 30                      │
│ }                              │
│ __proto__ →                    │
└─────────────────────────────────┘
                                 │
                                 ▼
┌─────────────────────────────────┐
│ Object.prototype                │
│ {                              │
│   toString: function,           │
│   hasOwnProperty: function,    │
│   constructor: Object,          │
│   __proto__: null              │
│ }                              │
└─────────────────────────────────┘
</code></pre></div></div>

<h3 id="how-property-lookup-works">How Property Lookup Works:</h3>
<ol>
  <li>Check if property exists on the object itself</li>
  <li>If not found, check the object’s prototype (<code class="language-plaintext highlighter-rouge">__proto__</code>)</li>
  <li>Continue up the chain until <code class="language-plaintext highlighter-rouge">Object.prototype</code></li>
  <li>If still not found, return <code class="language-plaintext highlighter-rouge">undefined</code></li>
</ol>

<hr />

<h2 id="-prototype-vs-proto">🔍 Prototype vs <strong>proto</strong></h2>

<h3 id="prototype-property"><code class="language-plaintext highlighter-rouge">prototype</code> Property:</h3>
<ul>
  <li><strong>Function property</strong> that defines what instances will inherit</li>
  <li><strong>Only exists on functions</strong> (constructors)</li>
  <li><strong>Used to add methods/properties</strong> to all instances</li>
</ul>

<h3 id="__proto__-property"><code class="language-plaintext highlighter-rouge">__proto__</code> Property:</h3>
<ul>
  <li><strong>Internal property</strong> that points to the object’s prototype</li>
  <li><strong>Exists on all objects</strong></li>
  <li><strong>Read-only</strong> in modern JavaScript (use <code class="language-plaintext highlighter-rouge">Object.getPrototypeOf()</code>)</li>
</ul>

<h3 id="ascii-diagram-prototype-vs-proto">ASCII Diagram: Prototype vs <strong>proto</strong></h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CONSTRUCTOR FUNCTION          INSTANCE OBJECT
┌─────────────────────────┐   ┌─────────────────────────┐
│ function Person() {}    │   │ const person = {}       │
│                         │   │                         │
│ prototype: {            │   │ __proto__: →            │
│   greet() { ... }       │   │                         │
│ }                       │   │                         │
└─────────────────────────┘   └─────────────────────────┘
         │                              │
         │                              ▼
         └──────────────────────────────┘
                                    │
                                    ▼
                            ┌─────────────────────────┐
                            │ Person.prototype        │
                            │ {                      │
                            │   greet() { ... }       │
                            │ }                      │
                            └─────────────────────────┘
</code></pre></div></div>

<hr />

<h2 id="️-objectcreate">🏗️ Object.create()</h2>

<p><code class="language-plaintext highlighter-rouge">Object.create()</code> creates a new object with a specified prototype.</p>

<h3 id="syntax">Syntax:</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">proto</span><span class="p">,</span> <span class="nx">propertiesObject</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="ascii-diagram-objectcreate">ASCII Diagram: Object.create()</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>OBJECT.CREATE FLOW
┌─────────────────────────────────┐
│ const proto = {                 │
│   greet() { return "Hello"; }   │
│ };                              │
└─────────────────────────────────┘
              │
              ▼
┌─────────────────────────────────┐
│ const obj = Object.create(proto); │
│ __proto__ → proto               │
└─────────────────────────────────┘
              │
              ▼
┌─────────────────────────────────┐
│ obj.greet() → "Hello"          │
│ (inherited from proto)          │
└─────────────────────────────────┘
</code></pre></div></div>

<hr />

<h2 id="-constructor-functions">🔨 Constructor Functions</h2>

<p>Constructor functions create objects with shared behavior through prototypes.</p>

<h3 id="ascii-diagram-constructor-function">ASCII Diagram: Constructor Function</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CONSTRUCTOR FUNCTION PATTERN
┌─────────────────────────────────┐
│ function Person(name) {         │
│   this.name = name;             │
│ }                               │
│                                 │
│ Person.prototype.greet =        │
│   function() {                  │
│     return "Hello, " + this.name; │
│   };                            │
└─────────────────────────────────┘
              │
              ▼
┌─────────────────────────────────┐
│ const person = new Person("John"); │
│ {                              │
│   name: "John",                 │
│   __proto__: Person.prototype   │
│ }                              │
└─────────────────────────────────┘
</code></pre></div></div>

<hr />

<h2 id="-es6-classes">🎓 ES6 Classes</h2>

<p>ES6 classes are syntactic sugar over constructor functions and prototypes.</p>

<h3 id="ascii-diagram-es6-class">ASCII Diagram: ES6 Class</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ES6 CLASS (SYNTACTIC SUGAR)
┌─────────────────────────────────┐
│ class Person {                  │
│   constructor(name) {           │
│     this.name = name;           │
│   }                            │
│                                │
│   greet() {                    │
│     return "Hello, " + this.name; │
│   }                            │
│ }                              │
└─────────────────────────────────┘
              │
              ▼
┌─────────────────────────────────┐
│ Person.prototype = {            │
│   constructor: Person,          │
│   greet: function() { ... }     │
│ }                              │
└─────────────────────────────────┘
</code></pre></div></div>

<hr />

<h2 id="-inheritance-patterns">🔄 Inheritance Patterns</h2>

<h3 id="1-prototypal-inheritance">1. <strong>Prototypal Inheritance</strong></h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">animal</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">makeSound</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="dl">"</span><span class="s2">Sound</span><span class="dl">"</span><span class="p">;</span> <span class="p">}</span> <span class="p">};</span>
<span class="kd">const</span> <span class="nx">dog</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">animal</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="2-constructor-inheritance">2. <strong>Constructor Inheritance</strong></h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">Animal</span><span class="p">()</span> <span class="p">{}</span>
<span class="kd">function</span> <span class="nx">Dog</span><span class="p">()</span> <span class="p">{</span> <span class="nx">Animal</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span> <span class="p">}</span>
<span class="nx">Dog</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Animal</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="3-class-inheritance">3. <strong>Class Inheritance</strong></h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Animal</span> <span class="p">{}</span>
<span class="kd">class</span> <span class="nx">Dog</span> <span class="kd">extends</span> <span class="nx">Animal</span> <span class="p">{}</span>
</code></pre></div></div>

<hr />

<h2 id="-detailed-examples">💻 Detailed Examples</h2>

<h3 id="example-1-basic-prototype-chain">Example 1: Basic Prototype Chain</h3>
<div style="position: relative;">
<button onclick="copyCode(this)" style="position: absolute; top: 10px; right: 10px; background: #007acc; color: white; border: none; border-radius: 4px; padding: 5px 10px; cursor: pointer; font-size: 12px;">📋 Copy</button>



```javascript
console.log("=== BASIC PROTOTYPE CHAIN ===");

// Create a base object
const animal = {
    type: "Animal",
    makeSound() {
        return "Some sound";
    },
    getInfo() {
        return `I am a ${this.type}`;
    }
};

console.log("=== Animal object ===");
console.log("animal:", animal);
console.log("animal.type:", animal.type);
console.log("animal.makeSound():", animal.makeSound());

// Create an object that inherits from animal
const dog = Object.create(animal);
dog.name = "Buddy";
dog.breed = "Golden Retriever";

console.log("\n=== Dog object ===");
console.log("dog:", dog);
console.log("dog.name:", dog.name);
console.log("dog.breed:", dog.breed);

// Access inherited properties
console.log("\n=== Inherited properties ===");
console.log("dog.type:", dog.type);                    // Inherited from animal
console.log("dog.makeSound():", dog.makeSound());      // Inherited from animal
console.log("dog.getInfo():", dog.getInfo());          // Inherited from animal

// Check prototype chain
console.log("\n=== Prototype chain ===");
console.log("dog.__proto__ === animal:", dog.__proto__ === animal);
console.log("Object.getPrototypeOf(dog) === animal:", Object.getPrototypeOf(dog) === animal);
console.log("animal.isPrototypeOf(dog):", animal.isPrototypeOf(dog));

// Add method to dog (overrides inherited method)
dog.makeSound = function() {
    return "Woof!";
};

console.log("\n=== After overriding method ===");
console.log("dog.makeSound():", dog.makeSound());      // "Woof!" (overridden)
console.log("animal.makeSound():", animal.makeSound()); // "Some sound" (unchanged)

// Check property ownership
console.log("\n=== Property ownership ===");
console.log("dog.hasOwnProperty('name'):", dog.hasOwnProperty('name'));           // true
console.log("dog.hasOwnProperty('type'):", dog.hasOwnProperty('type'));           // false
console.log("dog.hasOwnProperty('makeSound'):", dog.hasOwnProperty('makeSound')); // true (overridden)
```


</div>

<h3 id="example-2-constructor-functions-and-prototypes">Example 2: Constructor Functions and Prototypes</h3>
<div style="position: relative;">
<button onclick="copyCode(this)" style="position: absolute; top: 10px; right: 10px; background: #007acc; color: white; border: none; border-radius: 4px; padding: 5px 10px; cursor: pointer; font-size: 12px;">📋 Copy</button>



```javascript
console.log("=== CONSTRUCTOR FUNCTIONS AND PROTOTYPES ===");

// Constructor function
function Person(name, age) {
    this.name = name;
    this.age = age;
}

// Add methods to prototype (shared by all instances)
Person.prototype.greet = function() {
    return `Hello, I'm ${this.name} and I'm ${this.age} years old`;
};

Person.prototype.haveBirthday = function() {
    this.age++;
    return `Happy birthday! I'm now ${this.age} years old`;
};

// Static method (belongs to constructor, not instances)
Person.createAnonymous = function() {
    return new Person("Anonymous", 0);
};

console.log("=== Person constructor ===");
console.log("Person.prototype:", Person.prototype);
console.log("Person.prototype.constructor:", Person.prototype.constructor);

// Create instances
const person1 = new Person("Alice", 25);
const person2 = new Person("Bob", 30);

console.log("\n=== Person instances ===");
console.log("person1:", person1);
console.log("person2:", person2);

// Check prototype chain
console.log("\n=== Prototype chain ===");
console.log("person1.__proto__ === Person.prototype:", person1.__proto__ === Person.prototype);
console.log("person1.constructor === Person:", person1.constructor === Person);
console.log("person1 instanceof Person:", person1 instanceof Person);

// Use inherited methods
console.log("\n=== Using inherited methods ===");
console.log("person1.greet():", person1.greet());
console.log("person2.greet():", person2.greet());
console.log("person1.haveBirthday():", person1.haveBirthday());

// Check property ownership
console.log("\n=== Property ownership ===");
console.log("person1.hasOwnProperty('name'):", person1.hasOwnProperty('name'));           // true
console.log("person1.hasOwnProperty('greet'):", person1.hasOwnProperty('greet'));       // false
console.log("Person.prototype.hasOwnProperty('greet'):", Person.prototype.hasOwnProperty('greet')); // true

// Use static method
console.log("\n=== Static method ===");
const anonymous = Person.createAnonymous();
console.log("anonymous:", anonymous);
console.log("anonymous.greet():", anonymous.greet());
```


</div>

<h3 id="example-3-inheritance-with-constructor-functions">Example 3: Inheritance with Constructor Functions</h3>
<div style="position: relative;">
<button onclick="copyCode(this)" style="position: absolute; top: 10px; right: 10px; background: #007acc; color: white; border: none; border-radius: 4px; padding: 5px 10px; cursor: pointer; font-size: 12px;">📋 Copy</button>



```javascript
console.log("=== INHERITANCE WITH CONSTRUCTOR FUNCTIONS ===");

// Base constructor
function Animal(name) {
    this.name = name;
}

Animal.prototype.makeSound = function() {
    return "Some sound";
};

Animal.prototype.getInfo = function() {
    return `I am ${this.name}`;
};

// Derived constructor
function Dog(name, breed) {
    // Call parent constructor
    Animal.call(this, name);
    this.breed = breed;
}

// Set up inheritance
Dog.prototype = Object.create(Animal.prototype);
Dog.prototype.constructor = Dog;  // Fix constructor reference

// Add Dog-specific methods
Dog.prototype.makeSound = function() {
    return "Woof!";
};

Dog.prototype.getBreedInfo = function() {
    return `I am a ${this.breed}`;
};

console.log("=== Constructor setup ===");
console.log("Animal.prototype:", Animal.prototype);
console.log("Dog.prototype:", Dog.prototype);
console.log("Dog.prototype.constructor:", Dog.prototype.constructor);

// Create instances
const animal = new Animal("Generic Animal");
const dog = new Dog("Buddy", "Golden Retriever");

console.log("\n=== Instances ===");
console.log("animal:", animal);
console.log("dog:", dog);

// Check inheritance
console.log("\n=== Inheritance check ===");
console.log("dog instanceof Dog:", dog instanceof Dog);           // true
console.log("dog instanceof Animal:", dog instanceof Animal);     // true
console.log("dog instanceof Object:", dog instanceof Object);     // true

// Use methods
console.log("\n=== Using methods ===");
console.log("animal.makeSound():", animal.makeSound());          // "Some sound"
console.log("dog.makeSound():", dog.makeSound());                // "Woof!" (overridden)
console.log("dog.getInfo():", dog.getInfo());                    // "I am Buddy" (inherited)
console.log("dog.getBreedInfo():", dog.getBreedInfo());          // "I am a Golden Retriever"

// Check prototype chain
console.log("\n=== Prototype chain ===");
console.log("Dog.prototype.isPrototypeOf(dog):", Dog.prototype.isPrototypeOf(dog));           // true
console.log("Animal.prototype.isPrototypeOf(dog):", Animal.prototype.isPrototypeOf(dog));     // true
console.log("Object.prototype.isPrototypeOf(dog):", Object.prototype.isPrototypeOf(dog));     // true

// Property lookup demonstration
console.log("\n=== Property lookup demonstration ===");
console.log("dog.hasOwnProperty('name'):", dog.hasOwnProperty('name'));           // true
console.log("dog.hasOwnProperty('breed'):", dog.hasOwnProperty('breed'));         // true
console.log("dog.hasOwnProperty('makeSound'):", dog.hasOwnProperty('makeSound')); // false (inherited)
console.log("dog.hasOwnProperty('getInfo'):", dog.hasOwnProperty('getInfo'));     // false (inherited)
```


</div>

<h3 id="example-4-es6-classes-and-inheritance">Example 4: ES6 Classes and Inheritance</h3>
<div style="position: relative;">
<button onclick="copyCode(this)" style="position: absolute; top: 10px; right: 10px; background: #007acc; color: white; border: none; border-radius: 4px; padding: 5px 10px; cursor: pointer; font-size: 12px;">📋 Copy</button>



```javascript
console.log("=== ES6 CLASSES AND INHERITANCE ===");

// Base class
class Vehicle {
    constructor(make, model) {
        this.make = make;
        this.model = model;
    }
    
    getInfo() {
        return `${this.make} ${this.model}`;
    }
    
    start() {
        return "Vehicle starting...";
    }
    
    // Static method
    static create(make, model) {
        return new Vehicle(make, model);
    }
    
    // Getter
    get fullName() {
        return this.getInfo();
    }
    
    // Setter
    set fullName(value) {
        [this.make, this.model] = value.split(' ');
    }
}

// Derived class
class Car extends Vehicle {
    constructor(make, model, year) {
        super(make, model);  // Call parent constructor
        this.year = year;
    }
    
    start() {
        return `${super.start()} Car engine running!`;
    }
    
    getYear() {
        return this.year;
    }
}

console.log("=== Class definitions ===");
console.log("Vehicle.prototype:", Vehicle.prototype);
console.log("Car.prototype:", Car.prototype);
console.log("Car.prototype.constructor:", Car.prototype.constructor);

// Create instances
const vehicle = new Vehicle("Generic", "Vehicle");
const car = new Car("Toyota", "Camry", 2020);

console.log("\n=== Instances ===");
console.log("vehicle:", vehicle);
console.log("car:", car);

// Check inheritance
console.log("\n=== Inheritance check ===");
console.log("car instanceof Car:", car instanceof Car);           // true
console.log("car instanceof Vehicle:", car instanceof Vehicle);   // true
console.log("car instanceof Object:", car instanceof Object);     // true

// Use methods
console.log("\n=== Using methods ===");
console.log("vehicle.getInfo():", vehicle.getInfo());            // "Generic Vehicle"
console.log("car.getInfo():", car.getInfo());                    // "Toyota Camry"
console.log("vehicle.start():", vehicle.start());                // "Vehicle starting..."
console.log("car.start():", car.start());                        // "Vehicle starting... Car engine running!"
console.log("car.getYear():", car.getYear());                    // 2020

// Use getters and setters
console.log("\n=== Getters and setters ===");
console.log("car.fullName:", car.fullName);                      // "Toyota Camry"
car.fullName = "Honda Accord";
console.log("After setting fullName:", car.make, car.model);     // "Honda Accord"

// Use static method
console.log("\n=== Static method ===");
const newVehicle = Vehicle.create("Ford", "Focus");
console.log("newVehicle:", newVehicle);

// Check prototype chain
console.log("\n=== Prototype chain ===");
console.log("Car.prototype.isPrototypeOf(car):", Car.prototype.isPrototypeOf(car));           // true
console.log("Vehicle.prototype.isPrototypeOf(car):", Vehicle.prototype.isPrototypeOf(car));   // true
console.log("Object.prototype.isPrototypeOf(car):", Object.prototype.isPrototypeOf(car));     // true
```


</div>

<h3 id="example-5-advanced-prototype-patterns">Example 5: Advanced Prototype Patterns</h3>
<div style="position: relative;">
<button onclick="copyCode(this)" style="position: absolute; top: 10px; right: 10px; background: #007acc; color: white; border: none; border-radius: 4px; padding: 5px 10px; cursor: pointer; font-size: 12px;">📋 Copy</button>



```javascript
console.log("=== ADVANCED PROTOTYPE PATTERNS ===");

// Mixin pattern - combining multiple prototypes
const speakerMixin = {
    speak(message) {
        return `${this.name} says: ${message}`;
    }
};

const moverMixin = {
    move(distance) {
        return `${this.name} moved ${distance} units`;
    }
};

// Function to apply mixins
function applyMixins(target, ...mixins) {
    mixins.forEach(mixin =&gt; {
        Object.getOwnPropertyNames(mixin).forEach(name =&gt; {
            target.prototype[name] = mixin[name];
        });
    });
}

// Base constructor
function Creature(name) {
    this.name = name;
}

// Apply mixins
applyMixins(Creature, speakerMixin, moverMixin);

// Add Creature-specific methods
Creature.prototype.getInfo = function() {
    return `I am ${this.name}`;
};

console.log("=== Mixin application ===");
console.log("Creature.prototype:", Creature.prototype);

// Create instance
const creature = new Creature("Dragon");

console.log("\n=== Creature instance ===");
console.log("creature:", creature);

// Use mixed-in methods
console.log("\n=== Using mixed-in methods ===");
console.log("creature.speak('Hello'):", creature.speak("Hello"));
console.log("creature.move(10):", creature.move(10));
console.log("creature.getInfo():", creature.getInfo());

// Composition over inheritance
console.log("\n=== Composition over inheritance ===");

const behaviors = {
    speak: function(message) {
        return `${this.name} says: ${message}`;
    },
    move: function(distance) {
        return `${this.name} moved ${distance} units`;
    }
};

function createCreature(name, behaviorSet) {
    const creature = { name };
    
    // Compose behaviors
    Object.keys(behaviorSet).forEach(behavior =&gt; {
        creature[behavior] = behaviorSet[behavior];
    });
    
    return creature;
}

const composedCreature = createCreature("Phoenix", behaviors);
console.log("composedCreature:", composedCreature);
console.log("composedCreature.speak('Fire!'):", composedCreature.speak("Fire!"));
console.log("composedCreature.move(5):", composedCreature.move(5));

// Prototype pollution prevention
console.log("\n=== Prototype pollution prevention ===");

// Safe way to check properties
function safeHasProperty(obj, prop) {
    return Object.prototype.hasOwnProperty.call(obj, prop);
}

const testObj = { ownProp: "value" };
console.log("safeHasProperty(testObj, 'ownProp'):", safeHasProperty(testObj, 'ownProp'));     // true
console.log("safeHasProperty(testObj, 'toString'):", safeHasProperty(testObj, 'toString'));   // false

// Freezing prototypes to prevent modification
Object.freeze(Object.prototype);
console.log("Object.prototype is frozen:", Object.isFrozen(Object.prototype));                // true
```


</div>

<hr />

<h2 id="️-common-pitfalls">⚠️ Common Pitfalls</h2>

<h3 id="pitfall-1-forgetting-to-set-constructor">Pitfall 1: Forgetting to Set Constructor</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ❌ WRONG: Constructor reference is wrong</span>
<span class="kd">function</span> <span class="nx">Dog</span><span class="p">()</span> <span class="p">{}</span>
<span class="nx">Dog</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Animal</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>
<span class="c1">// Dog.prototype.constructor now points to Animal!</span>

<span class="c1">// ✅ CORRECT: Fix constructor reference</span>
<span class="kd">function</span> <span class="nx">Dog</span><span class="p">()</span> <span class="p">{}</span>
<span class="nx">Dog</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">Animal</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>
<span class="nx">Dog</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="kd">constructor</span> <span class="o">=</span> <span class="nx">Dog</span><span class="p">;</span>  <span class="c1">// Fix it!</span>
</code></pre></div></div>

<h3 id="pitfall-2-modifying-built-in-prototypes">Pitfall 2: Modifying Built-in Prototypes</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ❌ WRONG: Modifying built-in prototypes</span>
<span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">customMethod</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="dl">"</span><span class="s2">custom</span><span class="dl">"</span><span class="p">;</span> <span class="p">};</span>
<span class="c1">// This affects ALL arrays and can cause conflicts</span>

<span class="c1">// ✅ CORRECT: Use composition or inheritance</span>
<span class="kd">const</span> <span class="nx">myArray</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>
<span class="nx">myArray</span><span class="p">.</span><span class="nx">customMethod</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="dl">"</span><span class="s2">custom</span><span class="dl">"</span><span class="p">;</span> <span class="p">};</span>
</code></pre></div></div>

<h3 id="pitfall-3-prototype-chain-too-deep">Pitfall 3: Prototype Chain Too Deep</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ❌ WRONG: Very deep inheritance chain</span>
<span class="nx">A</span> <span class="err">→</span> <span class="nx">B</span> <span class="err">→</span> <span class="nx">C</span> <span class="err">→</span> <span class="nx">D</span> <span class="err">→</span> <span class="nx">E</span> <span class="err">→</span> <span class="nx">F</span> <span class="err">→</span> <span class="nx">G</span>
<span class="c1">// Performance degrades with deep chains</span>

<span class="c1">// ✅ CORRECT: Use composition or shallow inheritance</span>
<span class="nx">A</span> <span class="err">→</span> <span class="nx">B</span> <span class="p">(</span><span class="nx">shallow</span><span class="p">)</span>
<span class="nx">A</span> <span class="err">→</span> <span class="nx">C</span> <span class="p">(</span><span class="nx">composition</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h2 id="-best-practices">🎯 Best Practices</h2>

<h3 id="-dos">✅ Do’s:</h3>
<ul>
  <li><strong>Use <code class="language-plaintext highlighter-rouge">Object.create()</code></strong> for simple inheritance</li>
  <li><strong>Always fix constructor references</strong> when setting up inheritance</li>
  <li><strong>Prefer composition over inheritance</strong> for complex cases</li>
  <li><strong>Use ES6 classes</strong> for cleaner syntax</li>
  <li><strong>Freeze prototypes</strong> when you want to prevent modification</li>
</ul>

<h3 id="-donts">❌ Don’ts:</h3>
<ul>
  <li><strong>Don’t modify built-in prototypes</strong> (Array.prototype, Object.prototype, etc.)</li>
  <li><strong>Don’t create very deep inheritance chains</strong></li>
  <li><strong>Don’t forget to call parent constructors</strong> with <code class="language-plaintext highlighter-rouge">super()</code></li>
  <li><strong>Don’t assume</strong> all properties are enumerable</li>
</ul>

<hr />

<h2 id="-key-points">🔑 Key Points</h2>

<ul>
  <li><strong>Prototypal inheritance</strong> is JavaScript’s native inheritance mechanism</li>
  <li><strong>Prototype chain</strong> determines property lookup order</li>
  <li><strong><code class="language-plaintext highlighter-rouge">prototype</code></strong> is a function property, <strong><code class="language-plaintext highlighter-rouge">__proto__</code></strong> is an object property</li>
  <li><strong>Constructor functions</strong> create objects with shared prototypes</li>
  <li><strong>ES6 classes</strong> are syntactic sugar over prototypes</li>
  <li><strong><code class="language-plaintext highlighter-rouge">Object.create()</code></strong> creates objects with specified prototypes</li>
  <li><strong>Inheritance</strong> should be shallow and prefer composition</li>
  <li><strong>Always test</strong> prototype chains and property access</li>
</ul>

<hr />

<h2 id="-common-interview-questions">❓ Common Interview Questions</h2>

<h3 id="q1-what-is-prototypal-inheritance-in-javascript">Q1: What is prototypal inheritance in JavaScript?</h3>
<p><strong>A:</strong> Prototypal inheritance is JavaScript’s mechanism where objects can inherit properties and methods from other objects through a prototype chain. When a property is accessed, JavaScript looks up the chain until it finds the property or reaches the end.</p>

<h3 id="q2-whats-the-difference-between-prototype-and-__proto__">Q2: What’s the difference between <code class="language-plaintext highlighter-rouge">prototype</code> and <code class="language-plaintext highlighter-rouge">__proto__</code>?</h3>
<p><strong>A:</strong> <code class="language-plaintext highlighter-rouge">prototype</code> is a property of constructor functions that defines what instances will inherit. <code class="language-plaintext highlighter-rouge">__proto__</code> is an internal property of objects that points to their prototype. <code class="language-plaintext highlighter-rouge">prototype</code> is used to set up inheritance, while <code class="language-plaintext highlighter-rouge">__proto__</code> is used for property lookup.</p>

<h3 id="q3-how-do-you-implement-inheritance-with-constructor-functions">Q3: How do you implement inheritance with constructor functions?</h3>
<p><strong>A:</strong> Set the derived constructor’s prototype to <code class="language-plaintext highlighter-rouge">Object.create(BaseConstructor.prototype)</code>, then fix the constructor reference with <code class="language-plaintext highlighter-rouge">DerivedConstructor.prototype.constructor = DerivedConstructor</code>. Also call the parent constructor with <code class="language-plaintext highlighter-rouge">BaseConstructor.call(this, ...args)</code>.</p>

<h3 id="q4-how-do-es6-classes-relate-to-prototypes">Q4: How do ES6 classes relate to prototypes?</h3>
<p><strong>A:</strong> ES6 classes are syntactic sugar over constructor functions and prototypes. The <code class="language-plaintext highlighter-rouge">class</code> keyword creates a constructor function, and methods defined in the class are added to the constructor’s prototype. <code class="language-plaintext highlighter-rouge">extends</code> sets up the prototype chain for inheritance.</p>

<h3 id="q5-what-are-the-benefits-and-drawbacks-of-prototypal-inheritance">Q5: What are the benefits and drawbacks of prototypal inheritance?</h3>
<p><strong>A:</strong> Benefits include memory efficiency (shared methods), dynamic inheritance, and flexibility. Drawbacks include potential for prototype pollution, complex debugging, and the need to understand the prototype chain to predict behavior.</p>

<hr />

<h2 id="️-practice-exercises">🏋️ Practice Exercises</h2>

<h3 id="exercise-1-prototype-chain-tracker">Exercise 1: Prototype Chain Tracker</h3>
<p>Create a function that traces and visualizes the prototype chain of any object.</p>

<h3 id="exercise-2-inheritance-implementation">Exercise 2: Inheritance Implementation</h3>
<p>Implement different inheritance patterns (prototypal, constructor, class) and compare their behavior.</p>

<h3 id="exercise-3-mixin-system">Exercise 3: Mixin System</h3>
<p>Build a robust mixin system that allows objects to inherit from multiple sources safely.</p>

<hr />

<h2 id="-additional-resources">📚 Additional Resources</h2>

<ul>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain">MDN: Inheritance and the prototype chain</a></li>
  <li><a href="https://javascript.info/prototype-inheritance">JavaScript.info: Prototypal inheritance</a></li>
  <li><a href="https://github.com/getify/You-Dont-Know-JS">You Don’t Know JS: this &amp; Object Prototypes</a></li>
  <li><a href="https://eloquentjavascript.net/06_object.html">Eloquent JavaScript: Object-oriented programming</a></li>
</ul>

<hr />

<h2 id="-copy-code-functionality">📋 Copy Code Functionality</h2>

<script src="../common-scripts.js"></script>

<hr />

<h2 id="-navigation">🧭 Navigation</h2>

<div class="navigation">
    <a href="10-The-this-Keyword.md" class="nav-link prev">← Previous: The `this` Keyword</a>
    <a href="12-Event-Loop-Concurrency.md" class="nav-link next">Next: Event Loop &amp; Concurrency →</a>
</div>

<p><em>Last updated: December 2024</em></p>

        </main>
        
        <footer style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #ecf0f1; color: #666; text-align: center;">
            <p>Interview Prep Documentation - Built with Jekyll</p>
        </footer>
    </div>
</body>
</html>
