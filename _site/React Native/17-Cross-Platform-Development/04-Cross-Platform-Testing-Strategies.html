<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cross-Platform Testing Strategies in React Native - Interview Prep Documentation</title>
    <meta name="description" content="Comprehensive guides for JavaScript, TypeScript, and React Native interview preparation">
    
    <!-- GitHub Pages compatible styling -->
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
        }
        
        .container {
            max-width: 100%;
        }
        
        h1, h2, h3, h4, h5, h6 {
            color: #2c3e50;
            margin-top: 2em;
            margin-bottom: 1em;
        }
        
        h1 {
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        
        h2 {
            border-bottom: 1px solid #ecf0f1;
            padding-bottom: 5px;
        }
        
        code {
            background-color: #f8f9fa;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9em;
        }
        
        pre {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            border-left: 4px solid #3498db;
        }
        
        pre code {
            background-color: transparent;
            padding: 0;
        }
        
        blockquote {
            border-left: 4px solid #3498db;
            margin: 0;
            padding-left: 20px;
            color: #666;
            font-style: italic;
        }
        
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 1em 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 8px 12px;
            text-align: left;
        }
        
        th {
            background-color: #f8f9fa;
            font-weight: bold;
        }
        
        tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        
        .navigation {
            background-color: #2c3e50;
            color: white;
            padding: 10px 0;
            margin-bottom: 20px;
        }
        
        .navigation a {
            color: white;
            text-decoration: none;
            margin-right: 20px;
        }
        
        .navigation a:hover {
            text-decoration: underline;
        }
        
        .breadcrumb {
            margin-bottom: 20px;
            color: #666;
        }
        
        .breadcrumb a {
            color: #3498db;
            text-decoration: none;
        }
        
        .breadcrumb a:hover {
            text-decoration: underline;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            h2 {
                font-size: 1.4em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <nav class="navigation">
            <a href="/">Home</a>
            <a href="/Javascript/">JavaScript</a>
            <a href="/TypeScript/">TypeScript</a>
            <a href="/React-Native/">React Native</a>
        </nav>
        
        
        
        <main>
            <h1 id="cross-platform-testing-strategies-in-react-native">Cross-Platform Testing Strategies in React Native</h1>

<h2 id="overview">Overview</h2>

<p>Cross-platform testing in React Native requires comprehensive strategies to ensure your app works consistently across iOS, Android, and web platforms. This guide covers testing approaches, tools, and best practices for maintaining quality across all platforms.</p>

<h2 id="testing-architecture">Testing Architecture</h2>

<h3 id="1-testing-pyramid-structure">1. Testing Pyramid Structure</h3>

<pre><code class="language-mermaid">graph TD
    A[E2E Tests] --&gt; B[Integration Tests]
    B --&gt; C[Unit Tests]
    C --&gt; D[Component Tests]
    D --&gt; E[Utility Tests]
    
    A1[Platform-Specific E2E] --&gt; A
    B1[API Integration] --&gt; B
    C1[Business Logic] --&gt; C
    D1[UI Components] --&gt; D
    E1[Helper Functions] --&gt; E
</code></pre>

<h3 id="2-cross-platform-test-structure">2. Cross-Platform Test Structure</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// __tests__/setup.js</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">configure</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@testing-library/react-native</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Platform</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-native</span><span class="dl">'</span><span class="p">;</span>

<span class="c1">// Configure testing library</span>
<span class="nx">configure</span><span class="p">({</span>
  <span class="na">asyncUtilTimeout</span><span class="p">:</span> <span class="mi">5000</span><span class="p">,</span>
  <span class="na">getElementError</span><span class="p">:</span> <span class="p">(</span><span class="nx">message</span><span class="p">,</span> <span class="nx">container</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">error</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
    <span class="nx">error</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">TestingLibraryElementError</span><span class="dl">'</span><span class="p">;</span>
    <span class="nx">error</span><span class="p">.</span><span class="nx">stack</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">error</span><span class="p">;</span>
  <span class="p">},</span>
<span class="p">});</span>

<span class="c1">// Mock Platform.OS for testing</span>
<span class="nb">global</span><span class="p">.</span><span class="nx">Platform</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">OS</span><span class="p">:</span> <span class="dl">'</span><span class="s1">ios</span><span class="dl">'</span><span class="p">,</span> <span class="c1">// Default to iOS</span>
  <span class="na">Version</span><span class="p">:</span> <span class="dl">'</span><span class="s1">14.0</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">select</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">((</span><span class="nx">config</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">config</span><span class="p">.</span><span class="nx">ios</span> <span class="o">||</span> <span class="nx">config</span><span class="p">.</span><span class="k">default</span><span class="p">),</span>
<span class="p">};</span>

<span class="c1">// Mock device dimensions</span>
<span class="nx">jest</span><span class="p">.</span><span class="nx">mock</span><span class="p">(</span><span class="dl">'</span><span class="s1">react-native/Libraries/Utilities/Dimensions</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span>
  <span class="na">get</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">({</span>
    <span class="na">width</span><span class="p">:</span> <span class="mi">375</span><span class="p">,</span>
    <span class="na">height</span><span class="p">:</span> <span class="mi">667</span><span class="p">,</span>
    <span class="na">scale</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="na">fontScale</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="p">})),</span>
  <span class="na">addEventListener</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(),</span>
  <span class="na">removeEventListener</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(),</span>
<span class="p">}));</span>
</code></pre></div></div>

<h2 id="platform-specific-testing">Platform-Specific Testing</h2>

<h3 id="1-platform-specific-test-utilities">1. Platform-Specific Test Utilities</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// test-utils/platformTestUtils.js</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Platform</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-native</span><span class="dl">'</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">mockPlatform</span> <span class="o">=</span> <span class="p">(</span><span class="nx">os</span><span class="p">,</span> <span class="nx">version</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">1.0.0</span><span class="dl">'</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">originalOS</span> <span class="o">=</span> <span class="nx">Platform</span><span class="p">.</span><span class="nx">OS</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">originalVersion</span> <span class="o">=</span> <span class="nx">Platform</span><span class="p">.</span><span class="nx">Version</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">originalSelect</span> <span class="o">=</span> <span class="nx">Platform</span><span class="p">.</span><span class="nx">select</span><span class="p">;</span>
  
  <span class="nx">Platform</span><span class="p">.</span><span class="nx">OS</span> <span class="o">=</span> <span class="nx">os</span><span class="p">;</span>
  <span class="nx">Platform</span><span class="p">.</span><span class="nx">Version</span> <span class="o">=</span> <span class="nx">version</span><span class="p">;</span>
  <span class="nx">Platform</span><span class="p">.</span><span class="nx">select</span> <span class="o">=</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">((</span><span class="nx">config</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">config</span><span class="p">[</span><span class="nx">os</span><span class="p">]</span> <span class="o">||</span> <span class="nx">config</span><span class="p">.</span><span class="k">default</span><span class="p">);</span>
  
  <span class="k">return</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">Platform</span><span class="p">.</span><span class="nx">OS</span> <span class="o">=</span> <span class="nx">originalOS</span><span class="p">;</span>
    <span class="nx">Platform</span><span class="p">.</span><span class="nx">Version</span> <span class="o">=</span> <span class="nx">originalVersion</span><span class="p">;</span>
    <span class="nx">Platform</span><span class="p">.</span><span class="nx">select</span> <span class="o">=</span> <span class="nx">originalSelect</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">};</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">testOnBothPlatforms</span> <span class="o">=</span> <span class="p">(</span><span class="nx">testFn</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">iOS</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">mockPlatform</span><span class="p">(</span><span class="dl">'</span><span class="s1">ios</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">14.0</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">});</span>
    
    <span class="nx">testFn</span><span class="p">();</span>
  <span class="p">});</span>
  
  <span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">Android</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">mockPlatform</span><span class="p">(</span><span class="dl">'</span><span class="s1">android</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">30</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">});</span>
    
    <span class="nx">testFn</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">};</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">testOnAllPlatforms</span> <span class="o">=</span> <span class="p">(</span><span class="nx">testFn</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">iOS</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">mockPlatform</span><span class="p">(</span><span class="dl">'</span><span class="s1">ios</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">14.0</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">});</span>
    
    <span class="nx">testFn</span><span class="p">();</span>
  <span class="p">});</span>
  
  <span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">Android</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">mockPlatform</span><span class="p">(</span><span class="dl">'</span><span class="s1">android</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">30</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">});</span>
    
    <span class="nx">testFn</span><span class="p">();</span>
  <span class="p">});</span>
  
  <span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">Web</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">mockPlatform</span><span class="p">(</span><span class="dl">'</span><span class="s1">web</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">1.0.0</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">});</span>
    
    <span class="nx">testFn</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="2-platform-specific-component-testing">2. Platform-Specific Component Testing</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// __tests__/components/PlatformButton.test.js</span>
<span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">render</span><span class="p">,</span> <span class="nx">fireEvent</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@testing-library/react-native</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">testOnBothPlatforms</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../../test-utils/platformTestUtils</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">PlatformButton</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../PlatformButton</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">PlatformButton</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">defaultProps</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">title</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Test Button</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">onPress</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(),</span>
  <span class="p">};</span>

  <span class="nx">testOnBothPlatforms</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should render button with correct title</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="p">{</span> <span class="nx">getByText</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">PlatformButton</span> <span class="p">{...</span><span class="nx">defaultProps</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="se">)</span><span class="err">;
</span>      <span class="nx">expect</span><span class="p">(</span><span class="nx">getByText</span><span class="p">(</span><span class="dl">'</span><span class="s1">Test Button</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeTruthy</span><span class="p">();</span>
    <span class="p">});</span>

    <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should call onPress when pressed</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="p">{</span> <span class="nx">getByText</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">PlatformButton</span> <span class="p">{...</span><span class="nx">defaultProps</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="se">)</span><span class="err">;
</span>      <span class="nx">fireEvent</span><span class="p">.</span><span class="nx">press</span><span class="p">(</span><span class="nx">getByText</span><span class="p">(</span><span class="dl">'</span><span class="s1">Test Button</span><span class="dl">'</span><span class="p">));</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">defaultProps</span><span class="p">.</span><span class="nx">onPress</span><span class="p">).</span><span class="nx">toHaveBeenCalledTimes</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">});</span>

  <span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">iOS specific behavior</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">mockPlatform</span><span class="p">(</span><span class="dl">'</span><span class="s1">ios</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">14.0</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should render TouchableOpacity on iOS</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="p">{</span> <span class="nx">getByTestId</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">PlatformButton</span> <span class="p">{...</span><span class="nx">defaultProps</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="se">)</span><span class="err">;
</span>      <span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="dl">'</span><span class="s1">ios-button</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeTruthy</span><span class="p">();</span>
    <span class="p">});</span>

    <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should have iOS specific styling</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="p">{</span> <span class="nx">getByTestId</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">PlatformButton</span> <span class="p">{...</span><span class="nx">defaultProps</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="se">)</span><span class="err">;
</span>      <span class="kd">const</span> <span class="nx">button</span> <span class="o">=</span> <span class="nx">getByTestId</span><span class="p">(</span><span class="dl">'</span><span class="s1">ios-button</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">button</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">style</span><span class="p">).</span><span class="nx">toMatchObject</span><span class="p">({</span>
        <span class="na">borderRadius</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
        <span class="na">shadowColor</span><span class="p">:</span> <span class="dl">'</span><span class="s1">#000</span><span class="dl">'</span><span class="p">,</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">});</span>

  <span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">Android specific behavior</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">mockPlatform</span><span class="p">(</span><span class="dl">'</span><span class="s1">android</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">30</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should render TouchableNativeFeedback on Android</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="p">{</span> <span class="nx">getByTestId</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">PlatformButton</span> <span class="p">{...</span><span class="nx">defaultProps</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="se">)</span><span class="err">;
</span>      <span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="dl">'</span><span class="s1">android-button</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeTruthy</span><span class="p">();</span>
    <span class="p">});</span>

    <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should have Android specific styling</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="p">{</span> <span class="nx">getByTestId</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">PlatformButton</span> <span class="p">{...</span><span class="nx">defaultProps</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="se">)</span><span class="err">;
</span>      <span class="kd">const</span> <span class="nx">button</span> <span class="o">=</span> <span class="nx">getByTestId</span><span class="p">(</span><span class="dl">'</span><span class="s1">android-button</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">button</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">style</span><span class="p">).</span><span class="nx">toMatchObject</span><span class="p">({</span>
        <span class="na">borderRadius</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="na">elevation</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="responsive-design-testing">Responsive Design Testing</h2>

<h3 id="1-screen-size-testing">1. Screen Size Testing</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// test-utils/responsiveTestUtils.js</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Dimensions</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-native</span><span class="dl">'</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">mockDimensions</span> <span class="o">=</span> <span class="p">(</span><span class="nx">width</span><span class="p">,</span> <span class="nx">height</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">originalDimensions</span> <span class="o">=</span> <span class="nx">Dimensions</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">window</span><span class="dl">'</span><span class="p">);</span>
  
  <span class="nx">Dimensions</span><span class="p">.</span><span class="kd">get</span> <span class="o">=</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">({</span>
    <span class="nx">width</span><span class="p">,</span>
    <span class="nx">height</span><span class="p">,</span>
    <span class="na">scale</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">fontScale</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="p">}));</span>
  
  <span class="k">return</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">Dimensions</span><span class="p">.</span><span class="kd">get</span> <span class="o">=</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">originalDimensions</span><span class="p">);</span>
  <span class="p">};</span>
<span class="p">};</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">testResponsiveLayout</span> <span class="o">=</span> <span class="p">(</span><span class="nx">component</span><span class="p">,</span> <span class="nx">testCases</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">testCases</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(({</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">width</span><span class="p">,</span> <span class="nx">height</span><span class="p">,</span> <span class="nx">expectedBehavior</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">it</span><span class="p">(</span><span class="s2">`should handle </span><span class="p">${</span><span class="nx">name</span><span class="p">}</span><span class="s2"> layout (</span><span class="p">${</span><span class="nx">width</span><span class="p">}</span><span class="s2">x</span><span class="p">${</span><span class="nx">height</span><span class="p">}</span><span class="s2">)`</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">restoreDimensions</span> <span class="o">=</span> <span class="nx">mockDimensions</span><span class="p">(</span><span class="nx">width</span><span class="p">,</span> <span class="nx">height</span><span class="p">);</span>
      
      <span class="k">try</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="p">{</span> <span class="nx">getByTestId</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(</span><span class="nx">component</span><span class="p">);</span>
        <span class="nx">expectedBehavior</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
        <span class="nx">restoreDimensions</span><span class="p">();</span>
      <span class="p">}</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">};</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">testBreakpoints</span> <span class="o">=</span> <span class="p">(</span><span class="nx">component</span><span class="p">,</span> <span class="nx">breakpoints</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nb">Object</span><span class="p">.</span><span class="nx">entries</span><span class="p">(</span><span class="nx">breakpoints</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(([</span><span class="nx">breakpoint</span><span class="p">,</span> <span class="p">{</span> <span class="nx">width</span><span class="p">,</span> <span class="nx">height</span><span class="p">,</span> <span class="nx">expectedBehavior</span> <span class="p">}])</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">it</span><span class="p">(</span><span class="s2">`should handle </span><span class="p">${</span><span class="nx">breakpoint</span><span class="p">}</span><span class="s2"> breakpoint`</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">restoreDimensions</span> <span class="o">=</span> <span class="nx">mockDimensions</span><span class="p">(</span><span class="nx">width</span><span class="p">,</span> <span class="nx">height</span><span class="p">);</span>
      
      <span class="k">try</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="p">{</span> <span class="nx">getByTestId</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(</span><span class="nx">component</span><span class="p">);</span>
        <span class="nx">expectedBehavior</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
        <span class="nx">restoreDimensions</span><span class="p">();</span>
      <span class="p">}</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="2-responsive-component-testing">2. Responsive Component Testing</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// __tests__/components/ResponsiveGrid.test.js</span>
<span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">render</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@testing-library/react-native</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">testResponsiveLayout</span><span class="p">,</span> <span class="nx">testBreakpoints</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../../test-utils/responsiveTestUtils</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">ResponsiveGrid</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../ResponsiveGrid</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">ResponsiveGrid</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">mockData</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">({</span> <span class="na">length</span><span class="p">:</span> <span class="mi">10</span> <span class="p">},</span> <span class="p">(</span><span class="nx">_</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">({</span>
    <span class="na">id</span><span class="p">:</span> <span class="nx">i</span><span class="p">,</span>
    <span class="na">title</span><span class="p">:</span> <span class="s2">`Item </span><span class="p">${</span><span class="nx">i</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
  <span class="p">}));</span>

  <span class="kd">const</span> <span class="nx">defaultProps</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">data</span><span class="p">:</span> <span class="nx">mockData</span><span class="p">,</span>
    <span class="na">renderItem</span><span class="p">:</span> <span class="p">({</span> <span class="nx">item</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">testID</span><span class="o">=</span><span class="p">{</span><span class="s2">`item-</span><span class="p">${</span><span class="nx">item</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/Text&gt;</span><span class="err">,
</span>  <span class="p">};</span>

  <span class="nx">testResponsiveLayout</span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">ResponsiveGrid</span> <span class="p">{...</span><span class="nx">defaultProps</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="err">,
</span>    <span class="p">[</span>
      <span class="p">{</span>
        <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">mobile portrait</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">width</span><span class="p">:</span> <span class="mi">375</span><span class="p">,</span>
        <span class="na">height</span><span class="p">:</span> <span class="mi">667</span><span class="p">,</span>
        <span class="na">expectedBehavior</span><span class="p">:</span> <span class="p">(</span><span class="nx">getByTestId</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="dl">'</span><span class="s1">mobile-grid</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeTruthy</span><span class="p">();</span>
          <span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="dl">'</span><span class="s1">item-0</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeTruthy</span><span class="p">();</span>
        <span class="p">},</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">tablet landscape</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">width</span><span class="p">:</span> <span class="mi">1024</span><span class="p">,</span>
        <span class="na">height</span><span class="p">:</span> <span class="mi">768</span><span class="p">,</span>
        <span class="na">expectedBehavior</span><span class="p">:</span> <span class="p">(</span><span class="nx">getByTestId</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="dl">'</span><span class="s1">tablet-grid</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeTruthy</span><span class="p">();</span>
          <span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="dl">'</span><span class="s1">item-0</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeTruthy</span><span class="p">();</span>
        <span class="p">},</span>
      <span class="p">},</span>
    <span class="p">]</span>
  <span class="p">);</span>

  <span class="nx">testBreakpoints</span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">ResponsiveGrid</span> <span class="p">{...</span><span class="nx">defaultProps</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="err">,
</span>    <span class="p">{</span>
      <span class="na">mobile</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">width</span><span class="p">:</span> <span class="mi">375</span><span class="p">,</span>
        <span class="na">height</span><span class="p">:</span> <span class="mi">667</span><span class="p">,</span>
        <span class="na">expectedBehavior</span><span class="p">:</span> <span class="p">(</span><span class="nx">getByTestId</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="dl">'</span><span class="s1">mobile-grid</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeTruthy</span><span class="p">();</span>
        <span class="p">},</span>
      <span class="p">},</span>
      <span class="na">tablet</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">width</span><span class="p">:</span> <span class="mi">768</span><span class="p">,</span>
        <span class="na">height</span><span class="p">:</span> <span class="mi">1024</span><span class="p">,</span>
        <span class="na">expectedBehavior</span><span class="p">:</span> <span class="p">(</span><span class="nx">getByTestId</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="dl">'</span><span class="s1">tablet-grid</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeTruthy</span><span class="p">();</span>
        <span class="p">},</span>
      <span class="p">},</span>
      <span class="na">desktop</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">width</span><span class="p">:</span> <span class="mi">1200</span><span class="p">,</span>
        <span class="na">height</span><span class="p">:</span> <span class="mi">800</span><span class="p">,</span>
        <span class="na">expectedBehavior</span><span class="p">:</span> <span class="p">(</span><span class="nx">getByTestId</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="dl">'</span><span class="s1">desktop-grid</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeTruthy</span><span class="p">();</span>
        <span class="p">},</span>
      <span class="p">},</span>
    <span class="p">}</span>
  <span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="device-capability-testing">Device Capability Testing</h2>

<h3 id="1-device-capability-mocking">1. Device Capability Mocking</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// test-utils/deviceCapabilityUtils.js</span>
<span class="k">import</span> <span class="nx">DeviceInfo</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-native-device-info</span><span class="dl">'</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">mockDeviceCapabilities</span> <span class="o">=</span> <span class="p">(</span><span class="nx">capabilities</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">originalMethods</span> <span class="o">=</span> <span class="p">{};</span>
  
  <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">capabilities</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">key</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">DeviceInfo</span><span class="p">[</span><span class="nx">key</span><span class="p">])</span> <span class="p">{</span>
      <span class="nx">originalMethods</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">DeviceInfo</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>
      <span class="nx">DeviceInfo</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">().</span><span class="nx">mockResolvedValue</span><span class="p">(</span><span class="nx">capabilities</span><span class="p">[</span><span class="nx">key</span><span class="p">]);</span>
    <span class="p">}</span>
  <span class="p">});</span>
  
  <span class="k">return</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">originalMethods</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">key</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">DeviceInfo</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">originalMethods</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>
    <span class="p">});</span>
  <span class="p">};</span>
<span class="p">};</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">testWithDeviceCapabilities</span> <span class="o">=</span> <span class="p">(</span><span class="nx">capabilities</span><span class="p">,</span> <span class="nx">testFn</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">describe</span><span class="p">(</span><span class="s2">`with </span><span class="p">${</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">capabilities</span><span class="p">)}</span><span class="s2">`</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">mockDeviceCapabilities</span><span class="p">(</span><span class="nx">capabilities</span><span class="p">);</span>
    <span class="p">});</span>
    
    <span class="nx">testFn</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">};</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">testOnDifferentDevices</span> <span class="o">=</span> <span class="p">(</span><span class="nx">testCases</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">testCases</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(({</span> <span class="nx">deviceName</span><span class="p">,</span> <span class="nx">capabilities</span><span class="p">,</span> <span class="nx">testFn</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">describe</span><span class="p">(</span><span class="nx">deviceName</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">mockDeviceCapabilities</span><span class="p">(</span><span class="nx">capabilities</span><span class="p">);</span>
      <span class="p">});</span>
      
      <span class="nx">testFn</span><span class="p">();</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="2-capability-based-testing">2. Capability-Based Testing</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// __tests__/components/AdaptiveComponent.test.js</span>
<span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">render</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@testing-library/react-native</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">testWithDeviceCapabilities</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../../test-utils/deviceCapabilityUtils</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">AdaptiveComponent</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../AdaptiveComponent</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">AdaptiveComponent</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">defaultProps</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">children</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">Text</span><span class="o">&gt;</span><span class="nx">Default</span> <span class="nx">Content</span><span class="o">&lt;</span><span class="sr">/Text&gt;</span><span class="err">,
</span>  <span class="p">};</span>

  <span class="nx">testWithDeviceCapabilities</span><span class="p">(</span>
    <span class="p">{</span>
      <span class="na">isTablet</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="na">hasCamera</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="na">hasBiometrics</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should render tablet-specific features</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="p">{</span> <span class="nx">getByTestId</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">AdaptiveComponent</span> <span class="p">{...</span><span class="nx">defaultProps</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="se">)</span><span class="err">;
</span>        <span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="dl">'</span><span class="s1">tablet-features</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeTruthy</span><span class="p">();</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="dl">'</span><span class="s1">camera-feature</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeTruthy</span><span class="p">();</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="dl">'</span><span class="s1">biometric-feature</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeTruthy</span><span class="p">();</span>
      <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">);</span>

  <span class="nx">testWithDeviceCapabilities</span><span class="p">(</span>
    <span class="p">{</span>
      <span class="na">isTablet</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="na">hasCamera</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="na">hasBiometrics</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should render phone-specific features</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="p">{</span> <span class="nx">getByTestId</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">AdaptiveComponent</span> <span class="p">{...</span><span class="nx">defaultProps</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="se">)</span><span class="err">;
</span>        <span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="dl">'</span><span class="s1">phone-features</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeTruthy</span><span class="p">();</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="dl">'</span><span class="s1">camera-feature</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeFalsy</span><span class="p">();</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="dl">'</span><span class="s1">biometric-feature</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeFalsy</span><span class="p">();</span>
      <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="integration-testing">Integration Testing</h2>

<h3 id="1-cross-platform-integration-tests">1. Cross-Platform Integration Tests</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// __tests__/integration/CrossPlatformIntegration.test.js</span>
<span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">render</span><span class="p">,</span> <span class="nx">fireEvent</span><span class="p">,</span> <span class="nx">waitFor</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@testing-library/react-native</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">testOnBothPlatforms</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../../test-utils/platformTestUtils</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">App</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../../App</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">Cross-Platform Integration Tests</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">testOnBothPlatforms</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should handle navigation between screens</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="p">{</span> <span class="nx">getByText</span><span class="p">,</span> <span class="nx">getByTestId</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">App</span> <span class="o">/&gt;</span><span class="p">);</span>
      
      <span class="c1">// Navigate to second screen</span>
      <span class="nx">fireEvent</span><span class="p">.</span><span class="nx">press</span><span class="p">(</span><span class="nx">getByText</span><span class="p">(</span><span class="dl">'</span><span class="s1">Go to Second Screen</span><span class="dl">'</span><span class="p">));</span>
      
      <span class="k">await</span> <span class="nx">waitFor</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="dl">'</span><span class="s1">second-screen</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeTruthy</span><span class="p">();</span>
      <span class="p">});</span>
      
      <span class="c1">// Navigate back</span>
      <span class="nx">fireEvent</span><span class="p">.</span><span class="nx">press</span><span class="p">(</span><span class="nx">getByText</span><span class="p">(</span><span class="dl">'</span><span class="s1">Go Back</span><span class="dl">'</span><span class="p">));</span>
      
      <span class="k">await</span> <span class="nx">waitFor</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="dl">'</span><span class="s1">first-screen</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeTruthy</span><span class="p">();</span>
      <span class="p">});</span>
    <span class="p">});</span>

    <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should handle data persistence</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="p">{</span> <span class="nx">getByText</span><span class="p">,</span> <span class="nx">getByTestId</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">App</span> <span class="o">/&gt;</span><span class="p">);</span>
      
      <span class="c1">// Save data</span>
      <span class="nx">fireEvent</span><span class="p">.</span><span class="nx">press</span><span class="p">(</span><span class="nx">getByText</span><span class="p">(</span><span class="dl">'</span><span class="s1">Save Data</span><span class="dl">'</span><span class="p">));</span>
      
      <span class="k">await</span> <span class="nx">waitFor</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">getByText</span><span class="p">(</span><span class="dl">'</span><span class="s1">Data saved successfully</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeTruthy</span><span class="p">();</span>
      <span class="p">});</span>
      
      <span class="c1">// Reload app and check data persistence</span>
      <span class="kd">const</span> <span class="p">{</span> <span class="na">getByTestId</span><span class="p">:</span> <span class="nx">getByTestIdAfterReload</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">App</span> <span class="o">/&gt;</span><span class="p">);</span>
      
      <span class="k">await</span> <span class="nx">waitFor</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestIdAfterReload</span><span class="p">(</span><span class="dl">'</span><span class="s1">saved-data</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeTruthy</span><span class="p">();</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="2-api-integration-testing">2. API Integration Testing</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// __tests__/integration/APIIntegration.test.js</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">testOnBothPlatforms</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../../test-utils/platformTestUtils</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">apiService</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../../services/apiService</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">API Integration Tests</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">testOnBothPlatforms</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should handle successful API calls</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">mockData</span> <span class="o">=</span> <span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Test Item</span><span class="dl">'</span> <span class="p">};</span>
      
      <span class="c1">// Mock successful API response</span>
      <span class="nb">global</span><span class="p">.</span><span class="nx">fetch</span> <span class="o">=</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">().</span><span class="nx">mockResolvedValue</span><span class="p">({</span>
        <span class="na">ok</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="na">json</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">mockData</span><span class="p">),</span>
      <span class="p">});</span>
      
      <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">apiService</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
      
      <span class="nx">expect</span><span class="p">(</span><span class="nx">result</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">(</span><span class="nx">mockData</span><span class="p">);</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nb">global</span><span class="p">.</span><span class="nx">fetch</span><span class="p">).</span><span class="nx">toHaveBeenCalledWith</span><span class="p">(</span><span class="dl">'</span><span class="s1">/api/items/1</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should handle API errors gracefully</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="c1">// Mock API error</span>
      <span class="nb">global</span><span class="p">.</span><span class="nx">fetch</span> <span class="o">=</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">().</span><span class="nx">mockRejectedValue</span><span class="p">(</span><span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Network error</span><span class="dl">'</span><span class="p">));</span>
      
      <span class="k">await</span> <span class="nx">expect</span><span class="p">(</span><span class="nx">apiService</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="mi">1</span><span class="p">)).</span><span class="nx">rejects</span><span class="p">.</span><span class="nx">toThrow</span><span class="p">(</span><span class="dl">'</span><span class="s1">Network error</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should handle network timeouts</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="c1">// Mock timeout</span>
      <span class="nb">global</span><span class="p">.</span><span class="nx">fetch</span> <span class="o">=</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">().</span><span class="nx">mockImplementation</span><span class="p">(()</span> <span class="o">=&gt;</span> 
        <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">_</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> 
          <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">reject</span><span class="p">(</span><span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Timeout</span><span class="dl">'</span><span class="p">)),</span> <span class="mi">100</span><span class="p">)</span>
        <span class="p">)</span>
      <span class="p">);</span>
      
      <span class="k">await</span> <span class="nx">expect</span><span class="p">(</span><span class="nx">apiService</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="mi">1</span><span class="p">)).</span><span class="nx">rejects</span><span class="p">.</span><span class="nx">toThrow</span><span class="p">(</span><span class="dl">'</span><span class="s1">Timeout</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="e2e-testing">E2E Testing</h2>

<h3 id="1-cross-platform-e2e-setup">1. Cross-Platform E2E Setup</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// e2e/setup.js</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">device</span><span class="p">,</span> <span class="nx">expect</span><span class="p">,</span> <span class="nx">element</span><span class="p">,</span> <span class="nx">by</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">detox</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">Cross-Platform E2E Tests</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">beforeAll</span><span class="p">(</span><span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">device</span><span class="p">.</span><span class="nx">launchApp</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">beforeEach</span><span class="p">(</span><span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">device</span><span class="p">.</span><span class="nx">reloadReactNative</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should display welcome screen</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">expect</span><span class="p">(</span><span class="nx">element</span><span class="p">(</span><span class="nx">by</span><span class="p">.</span><span class="nx">id</span><span class="p">(</span><span class="dl">'</span><span class="s1">welcome-screen</span><span class="dl">'</span><span class="p">))).</span><span class="nx">toBeVisible</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should navigate through app screens</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Navigate to second screen</span>
    <span class="k">await</span> <span class="nx">element</span><span class="p">(</span><span class="nx">by</span><span class="p">.</span><span class="nx">id</span><span class="p">(</span><span class="dl">'</span><span class="s1">navigate-button</span><span class="dl">'</span><span class="p">)).</span><span class="nx">tap</span><span class="p">();</span>
    <span class="k">await</span> <span class="nx">expect</span><span class="p">(</span><span class="nx">element</span><span class="p">(</span><span class="nx">by</span><span class="p">.</span><span class="nx">id</span><span class="p">(</span><span class="dl">'</span><span class="s1">second-screen</span><span class="dl">'</span><span class="p">))).</span><span class="nx">toBeVisible</span><span class="p">();</span>
    
    <span class="c1">// Navigate back</span>
    <span class="k">await</span> <span class="nx">element</span><span class="p">(</span><span class="nx">by</span><span class="p">.</span><span class="nx">id</span><span class="p">(</span><span class="dl">'</span><span class="s1">back-button</span><span class="dl">'</span><span class="p">)).</span><span class="nx">tap</span><span class="p">();</span>
    <span class="k">await</span> <span class="nx">expect</span><span class="p">(</span><span class="nx">element</span><span class="p">(</span><span class="nx">by</span><span class="p">.</span><span class="nx">id</span><span class="p">(</span><span class="dl">'</span><span class="s1">welcome-screen</span><span class="dl">'</span><span class="p">))).</span><span class="nx">toBeVisible</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should handle user input</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">element</span><span class="p">(</span><span class="nx">by</span><span class="p">.</span><span class="nx">id</span><span class="p">(</span><span class="dl">'</span><span class="s1">input-field</span><span class="dl">'</span><span class="p">)).</span><span class="nx">typeText</span><span class="p">(</span><span class="dl">'</span><span class="s1">Test input</span><span class="dl">'</span><span class="p">);</span>
    <span class="k">await</span> <span class="nx">element</span><span class="p">(</span><span class="nx">by</span><span class="p">.</span><span class="nx">id</span><span class="p">(</span><span class="dl">'</span><span class="s1">submit-button</span><span class="dl">'</span><span class="p">)).</span><span class="nx">tap</span><span class="p">();</span>
    <span class="k">await</span> <span class="nx">expect</span><span class="p">(</span><span class="nx">element</span><span class="p">(</span><span class="nx">by</span><span class="p">.</span><span class="nx">id</span><span class="p">(</span><span class="dl">'</span><span class="s1">success-message</span><span class="dl">'</span><span class="p">))).</span><span class="nx">toBeVisible</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="2-platform-specific-e2e-tests">2. Platform-Specific E2E Tests</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// e2e/ios-specific.test.js</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">device</span><span class="p">,</span> <span class="nx">expect</span><span class="p">,</span> <span class="nx">element</span><span class="p">,</span> <span class="nx">by</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">detox</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">iOS Specific E2E Tests</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">beforeAll</span><span class="p">(</span><span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">device</span><span class="p">.</span><span class="nx">launchApp</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should handle iOS specific gestures</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Test iOS specific swipe gestures</span>
    <span class="k">await</span> <span class="nx">element</span><span class="p">(</span><span class="nx">by</span><span class="p">.</span><span class="nx">id</span><span class="p">(</span><span class="dl">'</span><span class="s1">swipeable-item</span><span class="dl">'</span><span class="p">)).</span><span class="nx">swipe</span><span class="p">(</span><span class="dl">'</span><span class="s1">left</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">fast</span><span class="dl">'</span><span class="p">);</span>
    <span class="k">await</span> <span class="nx">expect</span><span class="p">(</span><span class="nx">element</span><span class="p">(</span><span class="nx">by</span><span class="p">.</span><span class="nx">id</span><span class="p">(</span><span class="dl">'</span><span class="s1">swipe-action</span><span class="dl">'</span><span class="p">))).</span><span class="nx">toBeVisible</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should handle iOS specific UI elements</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Test iOS specific UI elements</span>
    <span class="k">await</span> <span class="nx">expect</span><span class="p">(</span><span class="nx">element</span><span class="p">(</span><span class="nx">by</span><span class="p">.</span><span class="nx">id</span><span class="p">(</span><span class="dl">'</span><span class="s1">ios-specific-button</span><span class="dl">'</span><span class="p">))).</span><span class="nx">toBeVisible</span><span class="p">();</span>
    <span class="k">await</span> <span class="nx">element</span><span class="p">(</span><span class="nx">by</span><span class="p">.</span><span class="nx">id</span><span class="p">(</span><span class="dl">'</span><span class="s1">ios-specific-button</span><span class="dl">'</span><span class="p">)).</span><span class="nx">tap</span><span class="p">();</span>
    <span class="k">await</span> <span class="nx">expect</span><span class="p">(</span><span class="nx">element</span><span class="p">(</span><span class="nx">by</span><span class="p">.</span><span class="nx">id</span><span class="p">(</span><span class="dl">'</span><span class="s1">ios-specific-modal</span><span class="dl">'</span><span class="p">))).</span><span class="nx">toBeVisible</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// e2e/android-specific.test.js</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">device</span><span class="p">,</span> <span class="nx">expect</span><span class="p">,</span> <span class="nx">element</span><span class="p">,</span> <span class="nx">by</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">detox</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">Android Specific E2E Tests</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">beforeAll</span><span class="p">(</span><span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">device</span><span class="p">.</span><span class="nx">launchApp</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should handle Android specific gestures</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Test Android specific long press</span>
    <span class="k">await</span> <span class="nx">element</span><span class="p">(</span><span class="nx">by</span><span class="p">.</span><span class="nx">id</span><span class="p">(</span><span class="dl">'</span><span class="s1">long-press-item</span><span class="dl">'</span><span class="p">)).</span><span class="nx">longPress</span><span class="p">();</span>
    <span class="k">await</span> <span class="nx">expect</span><span class="p">(</span><span class="nx">element</span><span class="p">(</span><span class="nx">by</span><span class="p">.</span><span class="nx">id</span><span class="p">(</span><span class="dl">'</span><span class="s1">context-menu</span><span class="dl">'</span><span class="p">))).</span><span class="nx">toBeVisible</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should handle Android specific UI elements</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Test Android specific UI elements</span>
    <span class="k">await</span> <span class="nx">expect</span><span class="p">(</span><span class="nx">element</span><span class="p">(</span><span class="nx">by</span><span class="p">.</span><span class="nx">id</span><span class="p">(</span><span class="dl">'</span><span class="s1">android-specific-button</span><span class="dl">'</span><span class="p">))).</span><span class="nx">toBeVisible</span><span class="p">();</span>
    <span class="k">await</span> <span class="nx">element</span><span class="p">(</span><span class="nx">by</span><span class="p">.</span><span class="nx">id</span><span class="p">(</span><span class="dl">'</span><span class="s1">android-specific-button</span><span class="dl">'</span><span class="p">)).</span><span class="nx">tap</span><span class="p">();</span>
    <span class="k">await</span> <span class="nx">expect</span><span class="p">(</span><span class="nx">element</span><span class="p">(</span><span class="nx">by</span><span class="p">.</span><span class="nx">id</span><span class="p">(</span><span class="dl">'</span><span class="s1">android-specific-snackbar</span><span class="dl">'</span><span class="p">))).</span><span class="nx">toBeVisible</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="performance-testing">Performance Testing</h2>

<h3 id="1-cross-platform-performance-tests">1. Cross-Platform Performance Tests</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// __tests__/performance/CrossPlatformPerformance.test.js</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">testOnBothPlatforms</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../../test-utils/platformTestUtils</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">render</span><span class="p">,</span> <span class="nx">fireEvent</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@testing-library/react-native</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">PerformanceComponent</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../PerformanceComponent</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">Cross-Platform Performance Tests</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">testOnBothPlatforms</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should render large lists efficiently</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">largeDataset</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">({</span> <span class="na">length</span><span class="p">:</span> <span class="mi">1000</span> <span class="p">},</span> <span class="p">(</span><span class="nx">_</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">({</span>
        <span class="na">id</span><span class="p">:</span> <span class="nx">i</span><span class="p">,</span>
        <span class="na">title</span><span class="p">:</span> <span class="s2">`Item </span><span class="p">${</span><span class="nx">i</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
      <span class="p">}));</span>

      <span class="kd">const</span> <span class="nx">startTime</span> <span class="o">=</span> <span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
      <span class="kd">const</span> <span class="p">{</span> <span class="nx">getByTestId</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">PerformanceComponent</span> <span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="nx">largeDataset</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>      <span class="p">);</span>
      <span class="kd">const</span> <span class="nx">endTime</span> <span class="o">=</span> <span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>

      <span class="nx">expect</span><span class="p">(</span><span class="nx">endTime</span> <span class="o">-</span> <span class="nx">startTime</span><span class="p">).</span><span class="nx">toBeLessThan</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span> <span class="c1">// Should render in less than 1 second</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">getByTestId</span><span class="p">(</span><span class="dl">'</span><span class="s1">performance-list</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeTruthy</span><span class="p">();</span>
    <span class="p">});</span>

    <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should handle rapid user interactions</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="p">{</span> <span class="nx">getByTestId</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">PerformanceComponent</span> <span class="o">/&gt;</span><span class="p">);</span>
      <span class="kd">const</span> <span class="nx">button</span> <span class="o">=</span> <span class="nx">getByTestId</span><span class="p">(</span><span class="dl">'</span><span class="s1">rapid-interaction-button</span><span class="dl">'</span><span class="p">);</span>

      <span class="kd">const</span> <span class="nx">startTime</span> <span class="o">=</span> <span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
      
      <span class="c1">// Simulate rapid button presses</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">fireEvent</span><span class="p">.</span><span class="nx">press</span><span class="p">(</span><span class="nx">button</span><span class="p">);</span>
      <span class="p">}</span>
      
      <span class="kd">const</span> <span class="nx">endTime</span> <span class="o">=</span> <span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>

      <span class="nx">expect</span><span class="p">(</span><span class="nx">endTime</span> <span class="o">-</span> <span class="nx">startTime</span><span class="p">).</span><span class="nx">toBeLessThan</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span> <span class="c1">// Should handle 100 presses in less than 500ms</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="2-memory-performance-tests">2. Memory Performance Tests</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// __tests__/performance/MemoryPerformance.test.js</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">testOnBothPlatforms</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../../test-utils/platformTestUtils</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">render</span><span class="p">,</span> <span class="nx">cleanup</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@testing-library/react-native</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">Memory Performance Tests</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">initialMemory</span><span class="p">;</span>

  <span class="nx">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">initialMemory</span> <span class="o">=</span> <span class="nb">global</span><span class="p">.</span><span class="nx">performance</span><span class="p">?.</span><span class="nx">memory</span><span class="p">?.</span><span class="nx">usedJSHeapSize</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">});</span>

  <span class="nx">afterEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">cleanup</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">global</span><span class="p">.</span><span class="nx">gc</span><span class="p">)</span> <span class="p">{</span>
      <span class="nb">global</span><span class="p">.</span><span class="nx">gc</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">});</span>

  <span class="nx">testOnBothPlatforms</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should not leak memory during component lifecycle</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="p">{</span> <span class="nx">unmount</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">MemoryIntensiveComponent</span> <span class="o">/&gt;</span><span class="p">);</span>
      
      <span class="c1">// Simulate user interactions</span>
      <span class="nx">fireEvent</span><span class="p">.</span><span class="nx">press</span><span class="p">(</span><span class="nx">screen</span><span class="p">.</span><span class="nx">getByText</span><span class="p">(</span><span class="dl">'</span><span class="s1">Button</span><span class="dl">'</span><span class="p">));</span>
      <span class="nx">fireEvent</span><span class="p">.</span><span class="nx">scroll</span><span class="p">(</span><span class="nx">screen</span><span class="p">.</span><span class="nx">getByTestId</span><span class="p">(</span><span class="dl">'</span><span class="s1">list</span><span class="dl">'</span><span class="p">),</span> <span class="p">{</span> 
        <span class="na">nativeEvent</span><span class="p">:</span> <span class="p">{</span> <span class="na">contentOffset</span><span class="p">:</span> <span class="p">{</span> <span class="na">y</span><span class="p">:</span> <span class="mi">1000</span> <span class="p">}</span> <span class="p">}</span> 
      <span class="p">});</span>
      
      <span class="nx">unmount</span><span class="p">();</span>
      
      <span class="c1">// Wait for GC</span>
      <span class="k">await</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span> <span class="o">=&gt;</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="mi">1000</span><span class="p">));</span>
      
      <span class="kd">const</span> <span class="nx">finalMemory</span> <span class="o">=</span> <span class="nb">global</span><span class="p">.</span><span class="nx">performance</span><span class="p">?.</span><span class="nx">memory</span><span class="p">?.</span><span class="nx">usedJSHeapSize</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>
      <span class="kd">const</span> <span class="nx">memoryIncrease</span> <span class="o">=</span> <span class="nx">finalMemory</span> <span class="o">-</span> <span class="nx">initialMemory</span><span class="p">;</span>
      
      <span class="c1">// Allow for 1MB increase (tolerance for test overhead)</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">memoryIncrease</span><span class="p">).</span><span class="nx">toBeLessThan</span><span class="p">(</span><span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="testing-best-practices">Testing Best Practices</h2>

<h3 id="1-test-organization">1. Test Organization</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// __tests__/index.js - Test entry point</span>
<span class="k">import</span> <span class="dl">'</span><span class="s1">./setup</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">'</span><span class="s1">./components</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">'</span><span class="s1">./integration</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">'</span><span class="s1">./performance</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">'</span><span class="s1">./e2e</span><span class="dl">'</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="2-test-utilities">2. Test Utilities</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// test-utils/index.js</span>
<span class="k">export</span> <span class="o">*</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./platformTestUtils</span><span class="dl">'</span><span class="p">;</span>
<span class="k">export</span> <span class="o">*</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./responsiveTestUtils</span><span class="dl">'</span><span class="p">;</span>
<span class="k">export</span> <span class="o">*</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./deviceCapabilityUtils</span><span class="dl">'</span><span class="p">;</span>
<span class="k">export</span> <span class="o">*</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./mockUtils</span><span class="dl">'</span><span class="p">;</span>
<span class="k">export</span> <span class="o">*</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./testHelpers</span><span class="dl">'</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="3-mock-utilities">3. Mock Utilities</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// test-utils/mockUtils.js</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">mockNavigation</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span>
  <span class="na">navigate</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(),</span>
  <span class="na">goBack</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(),</span>
  <span class="na">reset</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(),</span>
  <span class="na">setParams</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(),</span>
  <span class="na">dispatch</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(),</span>
  <span class="na">canGoBack</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">),</span>
  <span class="na">isFocused</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">),</span>
<span class="p">});</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">mockRoute</span> <span class="o">=</span> <span class="p">(</span><span class="nx">params</span> <span class="o">=</span> <span class="p">{})</span> <span class="o">=&gt;</span> <span class="p">({</span>
  <span class="na">key</span><span class="p">:</span> <span class="dl">'</span><span class="s1">test-route</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">TestScreen</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">params</span><span class="p">,</span>
<span class="p">});</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">mockAsyncStorage</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span>
  <span class="na">getItem</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(),</span>
  <span class="na">setItem</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(),</span>
  <span class="na">removeItem</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(),</span>
  <span class="na">clear</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(),</span>
  <span class="na">getAllKeys</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(),</span>
  <span class="na">multiGet</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(),</span>
  <span class="na">multiSet</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(),</span>
  <span class="na">multiRemove</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(),</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="summary">Summary</h2>

<p>Cross-platform testing strategies in React Native include:</p>

<ol>
  <li><strong>Testing Architecture</strong>: Testing pyramid, cross-platform test structure</li>
  <li><strong>Platform-Specific Testing</strong>: Platform utilities, component testing</li>
  <li><strong>Responsive Design Testing</strong>: Screen size testing, breakpoint testing</li>
  <li><strong>Device Capability Testing</strong>: Capability mocking, adaptive testing</li>
  <li><strong>Integration Testing</strong>: Cross-platform integration, API testing</li>
  <li><strong>E2E Testing</strong>: Cross-platform E2E, platform-specific E2E</li>
  <li><strong>Performance Testing</strong>: Cross-platform performance, memory testing</li>
  <li><strong>Testing Best Practices</strong>: Test organization, utilities, mocking</li>
</ol>

<h2 id="key-takeaways">Key Takeaways</h2>

<ul>
  <li>Implement comprehensive testing pyramid for all platforms</li>
  <li>Use platform-specific test utilities for consistent testing</li>
  <li>Test responsive design across different screen sizes</li>
  <li>Mock device capabilities for predictable testing</li>
  <li>Implement integration tests for cross-platform functionality</li>
  <li>Use E2E testing for user journey validation</li>
  <li>Monitor performance across platforms</li>
  <li>Organize tests with clear structure and utilities</li>
  <li>Mock external dependencies for reliable testing</li>
  <li>Test both positive and negative scenarios</li>
  <li>Implement proper cleanup in tests</li>
  <li>Use appropriate testing tools for each test type</li>
</ul>


        </main>
        
        <footer style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #ecf0f1; color: #666; text-align: center;">
            <p>Interview Prep Documentation - Built with Jekyll</p>
        </footer>
    </div>
</body>
</html>
